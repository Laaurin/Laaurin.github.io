"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[760],{5760:function(e,s,t){t.d(s,{Z:function(){return G}});var n=t(3396);const r={class:"sidebar shadow-lg"};function i(e,s,t,i,o,l){const a=(0,n.up)("profil-icon"),c=(0,n.up)("user-selection");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",r,[(0,n.Wm)(a,{show:t.show,class:"mb-5",style:{position:"relative"},onShowUserSelection:s[0]||(s[0]=e=>o.showUserSelection=!0)},null,8,["show"]),(0,n.WI)(e.$slots,"default",{},void 0,!0)]),o.showUserSelection?((0,n.wg)(),(0,n.j4)(c,{key:0,onUserSelected:s[1]||(s[1]=e=>o.showUserSelection=!1)})):(0,n.kq)("",!0)],64)}var o=t(7139);const l={class:"profile ms-3"},a={class:"text",style:{"font-weight":"bold"}},c={class:"text"};function d(e,s,t,r,i,d){return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",a,(0,o.zw)(r.uniName),1),(0,n._)("div",c,(0,o.zw)(r.userName||"no user selected"),1),t.show?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:s[0]||(s[0]=(...e)=>r.buttonClick&&r.buttonClick(...e))},"change user")):(0,n.kq)("",!0)])}var u=t(65),g={name:"ProfilIcon",props:{show:Boolean},emits:["showUserSelection"],setup(e,{emit:s}){const t=(0,u.oR)(),r=(0,n.Fl)((()=>t.getters.userProfileName||"no user selected")),i=(0,n.Fl)((()=>t.getters.userUni||"no uni found")),o=()=>{s("showUserSelection")};return{userName:r,uniName:i,buttonClick:o}}},v=t(89);const m=(0,v.Z)(g,[["render",d],["__scopeId","data-v-93d24f68"]]);var p=m;const w={class:"pop-up-window"},h={class:"pop-up-inner"},f={class:"d-flex flex-wrap justify-content-center"},U={class:"d-flex align-items-center"},b={class:"d-flex align-items-center"};function _(e,s,t,r,i,l){const a=(0,n.up)("selectable-user"),c=(0,n.up)("new-user");return(0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",h,[(0,n._)("div",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.userList,(e=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)([{active:e.id===r.selectedProfileId},"selection-option"]),key:e.id},[(0,n.Wm)(a,{"user-name":e.name,removing:r.removing,onSelect:s=>r.handleClick(e)},null,8,["user-name","removing","onSelect"])],2)))),128)),(0,n._)("div",U,[(0,n.Wm)(c)]),(0,n._)("div",b,[(0,n._)("i",{onClick:s[0]||(s[0]=(...e)=>r.toggleRemove&&r.toggleRemove(...e)),class:(0,o.C_)(["bi bi-dash-circle",{"delete-button-active":r.removing,"delete-button":!r.removing}]),style:{"font-size":"30px"}},null,2)])])])])}const y=e=>((0,n.dD)("data-v-349948e5"),e=e(),(0,n.Cn)(),e),k={key:0,class:"removeIcon"},S=y((()=>(0,n._)("i",{class:"bi bi-trash"},null,-1))),C=[S],P={key:1},D=y((()=>(0,n._)("i",{style:{"font-size":"50px"},class:"bi bi-person"},null,-1))),I=[D];function x(e,s,t,r,i,l){return(0,n.wg)(),(0,n.iD)("div",{class:"profile",onClick:s[0]||(s[0]=(...e)=>r.select&&r.select(...e))},[r.deletable?((0,n.wg)(),(0,n.iD)("div",k,C)):((0,n.wg)(),(0,n.iD)("div",P,I)),(0,n._)("p",null,(0,o.zw)(t.userName),1)])}var N=t(4870),z={name:"SelectableUser",props:{userName:String,removing:Boolean},emits:["select","delete"],setup(e,{emit:s}){const t=(0,N.iH)(e.removing),r=()=>{s("select")};return(0,n.YP)((()=>e.removing),(e=>{t.value=e})),{select:r,deletable:t}}};const H=(0,v.Z)(z,[["render",x],["__scopeId","data-v-349948e5"]]);var Z=H,A=t(9242);const R={key:0,class:"profile"},W={key:1},Y={class:"input-group mb-3",style:{display:"flex","align-items":"center","justify-content":"center"}};function j(e,s,t,r,i,o){return i.addingUser?((0,n.wg)(),(0,n.iD)("div",W,[(0,n._)("div",Y,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>i.name=e),class:"form-control",placeholder:"Enter user's name",onKeydown:s[2]||(s[2]=(0,A.D2)(((...e)=>o.saveUser&&o.saveUser(...e)),["enter"]))},null,544),[[A.nr,i.name]]),(0,n._)("button",{class:"btn btn-primary",style:{"background-color":"var(--primary)","border-color":"var(--primary)"},onClick:s[3]||(s[3]=(...e)=>o.saveUser&&o.saveUser(...e))},"Save"),(0,n._)("button",{class:"btn btn-secondary",onClick:s[4]||(s[4]=(...e)=>o.cancelUser&&o.cancelUser(...e))},"Cancel")])])):((0,n.wg)(),(0,n.iD)("div",R,[(0,n._)("i",{style:{"font-size":"30px",cursor:"pointer",color:"whitesmoke"},class:"bi bi-plus-circle",onClick:s[0]||(s[0]=(...e)=>o.toggleAddingUser&&o.toggleAddingUser(...e))})]))}var B={name:"NewUser",data(){return{addingUser:!1,name:""}},methods:{toggleAddingUser(){this.addingUser=!this.addingUser},saveUser(){this.$store.dispatch("createNewUserProfile",{name:this.name}),this.name="",this.toggleAddingUser()},cancelUser(){this.name="",this.toggleAddingUser()}}};const F=(0,v.Z)(B,[["render",j],["__scopeId","data-v-7f1de32e"]]);var $=F,q={name:"UserSelection",components:{NewUser:$,SelectableUser:Z},emits:["userSelected"],setup(e,{emit:s}){const t=(0,u.oR)(),r=(0,N.iH)(t.getters.userProfiles),i=(0,N.iH)(t.getters.userProfileId);(0,n.YP)((()=>t.getters.userProfiles),(e=>{r.value=e}));const o=(0,N.iH)(!1);(0,n.wF)((async()=>{0===r.value.length&&(await t.dispatch("fetchUserProfiles"),r.value=t.getters.userProfiles)}));const l=async e=>{o.value?await a(e.id):await c(e)},a=async e=>{await t.dispatch("deleteProfile",e)},c=async e=>{console.log("setting"+e),await t.dispatch("selectUserProfile",e),await t.dispatch("fetchUserStats"),console.log(t.getters.userStats),s("userSelected")},d=()=>{o.value=!o.value};return{userList:r,selectedProfileId:i,removing:o,setUser:c,toggleRemove:d,deleteUser:a,handleClick:l}}};const K=(0,v.Z)(q,[["render",_],["__scopeId","data-v-6a2bda80"]]);var L=K,E={name:"SideBar",components:{UserSelection:L,ProfilIcon:p},props:["show"],data(){return{showUserSelection:null===this.$store.getters.userProfileId,changeUser:!1}}};const V=(0,v.Z)(E,[["render",i],["__scopeId","data-v-2cc77998"]]);var G=V}}]);
//# sourceMappingURL=760.34a81160.js.map