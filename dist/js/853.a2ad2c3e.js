"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[853],{5062:function(e,t,s){s.r(t),s.d(t,{default:function(){return ve}});var l=s(3396);const i={class:"container-fluid"},o={class:"row"},n={class:"col-3 sidebar"},a={class:"col"};function u(e,t,s,u,d,r){const c=(0,l.up)("question-filter"),b=(0,l.up)("side-bar"),v=(0,l.up)("profile-questions");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("div",o,[(0,l._)("div",n,[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onQuestionsFiltered:u.updateQuestions},null,8,["onQuestionsFiltered"])])),_:1})]),(0,l._)("div",a,[(0,l.Wm)(v,{questions:u.filteredQuestions},null,8,["questions"])])])])}var d=s(4870);const r=e=>((0,l.dD)("data-v-8b1996e4"),e=e(),(0,l.Cn)(),e),c={class:"profile-questions"},b={style:{position:"relative"}},v={class:"questions-list"},p={key:0},g=r((()=>(0,l._)("hr",null,null,-1)));function m(e,t,s,i,o,n){const a=(0,l.up)("editable-question"),u=(0,l.up)("edit-question-window");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",c,[(0,l._)("div",b,[(0,l._)("div",v,[i.filteredQuestions.length>0?((0,l.wg)(),(0,l.iD)("hr",p)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.filteredQuestions,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id},[(0,l.Wm)(a,{question:e,onEdit:t=>i.editQuestionHandler(e),onDelete:t=>i.deleteQuestionHandler(e.id)},null,8,["question","onEdit","onDelete"]),g])))),128))])])]),i.editQuestion?((0,l.wg)(),(0,l.j4)(u,{key:0,question:i.questionInEdit,onClose:t[0]||(t[0]=e=>i.editQuestion=!1)},null,8,["question"])):(0,l.kq)("",!0)],64)}var q=s(7139);const f=e=>((0,l.dD)("data-v-c9d6346e"),e=e(),(0,l.Cn)(),e),h={class:"row question-wrapper"},w={class:"col-1 ps-3"},L={class:"col"},Q={key:0},_={class:"col"},y={class:"d-flex flex-wrap"},T={class:"col-4"},D=f((()=>(0,l._)("i",{class:"bi bi-pencil-square"},null,-1))),x=f((()=>(0,l._)("span",{class:"d-none d-md-inline"},"Edit",-1))),C=[D,x],F={class:"d-none d-md-inline"};function k(e,t,s,i,o,n){const a=(0,l.up)("status-bar"),u=(0,l.up)("question-label");return(0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("div",w,[0!==i.stats.totalSubmissions?((0,l.wg)(),(0,l.j4)(a,{key:0,"correct-count":i.stats.totalScore,"total-count":i.stats.totalSubmissions},null,8,["correct-count","total-count"])):(0,l.kq)("",!0)]),(0,l._)("div",L,[(0,l._)("div",null,[(0,l._)("div",{class:"text-start overflow-hidden",onClick:t[0]||(t[0]=e=>i.extended=!i.extended)},[(0,l.Uk)((0,q.zw)(s.question.questionText)+" ",1),i.extended?((0,l.wg)(),(0,l.iD)("div",Q,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.question.answerOptions,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},(0,q.zw)(e.text),1)))),128))])):(0,l.kq)("",!0)]),(0,l._)("div",_,[(0,l._)("div",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.question.questionLabels,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"overflow-hidden"},[(0,l.Wm)(u,{"label-object":e,active:!0},null,8,["label-object"])])))),128))])])])]),(0,l._)("div",T,[(0,l._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[1]||(t[1]=(...e)=>i.editQuestion&&i.editQuestion(...e))},C),(0,l._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[2]||(t[2]=(...e)=>i.toggleDelete&&i.toggleDelete(...e))},[(0,l._)("i",{class:(0,q.C_)([{"delete-icon":i.isDeleting,default:!i.isDeleting},"bi bi-trash"])},null,2),(0,l._)("span",F,(0,q.zw)(i.deleteButtonText),1)])])])}var H=s(65),S=s(1034);const I={class:"status-bar"};function Z(e,t,s,i,o,n){return(0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("div",{class:"status-bar-inner",style:(0,q.j5)({backgroundColor:i.barColor})},null,4)])}var j={props:{questionId:Number,correctCount:Number,totalCount:Number},setup(e){const t=(0,l.Fl)((()=>{const t={totalSubmissions:e.totalCount,totalScore:e.correctCount};return t??{totalSubmissions:0,totalScore:0}})),s=(0,l.Fl)((()=>{const e=["#8b0000","#ff0000","#e08f43","#ffff00","#008000"];if(0===t.value.totalSubmissions)return"#808080";const s=Math.min(Math.floor(t.value.totalScore/t.value.totalSubmissions*e.length),e.length-1);return console.log(s),e[s]}));return{barColor:s}}},E=s(89);const Y=(0,E.Z)(j,[["render",Z],["__scopeId","data-v-60ea07ab"]]);var B=Y,W={components:{StatusBar:B,QuestionLabel:S.Z},props:{question:Object},setup(e,{emit:t}){const s=(0,H.oR)(),i=(0,l.Fl)((()=>s.getters.getTeamLabels)),o=(0,l.Fl)((()=>{const t=s.getters.userStats.find((t=>t.id===e.question.id));return t??{totalSubmissions:0,totalScore:0}})),n=(0,l.Fl)((()=>0===e.question.questionLabels.length)),a=(0,d.iH)(!1),u=(0,d.iH)(!1),r=(0,l.Fl)((()=>u.value?"Confirm":"Delete")),c=()=>{t("edit",e.question)},b=()=>{u.value?v():(u.value=!0,setTimeout((()=>{u.value=!1}),3e3))},v=()=>{t("delete",e.question),u.value=!1};return{teamLabels:i,stats:o,showLabels:n,extended:a,isDeleting:u,deleteButtonText:r,editQuestion:c,toggleDelete:b}}};const A=(0,E.Z)(W,[["render",k],["__scopeId","data-v-c9d6346e"]]);var N=A;const R={class:"pop-up-window"},K={class:"pop-up-inner"};function P(e,t,s,i,o,n){return(0,l.wg)(),(0,l.iD)("div",R,[(0,l._)("div",K,[((0,l.wg)(),(0,l.j4)((0,l.LL)(i.currentQuestionType),{inputQuestion:i.currentQuestion,onCancel:n.cancelEditing,onReturnQuestion:n.saveChanges},null,40,["inputQuestion","onCancel","onReturnQuestion"]))])])}s(7658);var O=s(4853),z=s(2925),M=s(6022),$={components:{FlashCardBuilder:M.Z,MultipleChoiceQuestionBuilder:z.Z,QuestionLabel:S.Z,NewLabel:O.Z},emits:["close"],props:{question:Object},setup(e){const t=(0,H.oR)(),s=(0,l.Fl)((()=>t.getters.getTeamLabels)),i=(0,d.iH)([]),o=(0,l.Fl)((()=>s.value.concat(i.value))),n=(0,d.iH)({...e.question}),a=(0,l.Fl)((()=>"multiple-choice"===e.question.type?"multiple-choice-question-builder":"flash-card"===e.question.type?(console.log("flashcard"),"flash-card-builder"):null));return{teamLabels:s,addedLabels:i,displayedLabels:o,currentQuestion:n,currentQuestionType:a}},data(){return{questionText:"",answers:[{text:""},{text:""},{text:""},{text:""}],questionLabels:[],questionId:"",correctAnswerIndex:null,updatedQuestion:null}},methods:{...(0,H.nv)(["updateTeamQuestion","addNewLabelToTeamLabels"]),async saveChanges(e,t){await this.updateTeamLabels(t),console.log(e),await this.updateTeamQuestion(e),this.$emit("close")},cancelEditing(){this.$emit("close")},async updateTeamLabels(e){for(const t of e)t.id=await this.addNewLabelToTeamLabels(t.label),console.log(t);console.log("added Labels: ",e)},addLabel(e){this.addedLabels.push(e)},toggleLabel(e){const t=this.questionLabels.some((t=>t.id===e.id));t?this.questionLabels=this.questionLabels.filter((t=>t.id!==e.id)):this.questionLabels.push(e)},isActive(e){return this.questionLabels.some((t=>t.label===e.label))},createPrivateQuestion(){return{id:this.questionId,questionText:this.questionText,questionLabels:this.questionLabels.map((e=>({label:e.label,id:e.id}))),answerOptions:this.answers.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))}}}};const U=(0,E.Z)($,[["render",P],["__scopeId","data-v-71e2d606"]]);var G=U,J={name:"ProfileQuestions",components:{EditQuestionWindow:G,EditableQuestion:N},props:["questions"],setup(e){const t=(0,H.oR)(),s=(0,d.iH)(""),i=(0,d.iH)(!1),o=(0,d.iH)(null),n=(0,l.Fl)((()=>t.getters.getTeamLabels)),a=(0,l.Fl)((()=>e.questions)),u=(0,l.Fl)((()=>t.getters.userStats));(0,l.YP)(u,(()=>{console.log("stats updated")}));const r=e=>{a.value=a.value.filter((t=>t.id!==e)),t.dispatch("deleteQuestion",e)},c=e=>{o.value=e,i.value=!0},b=e=>{r(e)};return{teamLabels:n,filteredQuestions:a,editQuestion:i,questionInEdit:o,selectedLabel:s,editQuestionHandler:c,deleteQuestionHandler:b}}};const V=(0,E.Z)(J,[["render",m],["__scopeId","data-v-8b1996e4"]]);var X=V,ee=s(1424);const te=e=>((0,l.dD)("data-v-15236df1"),e=e(),(0,l.Cn)(),e),se=te((()=>(0,l._)("p",{class:"filter-title text-center"},"Filter By Label",-1))),le={class:"label-container mb-3"},ie=te((()=>(0,l._)("hr",{style:{color:"whitesmoke"}},null,-1))),oe=te((()=>(0,l._)("p",{class:"filter-title text-center"},"Filter By Type",-1))),ne={class:"label-container"};function ae(e,t,s,i,o,n){const a=(0,l.up)("question-label");return(0,l.wg)(),(0,l.iD)(l.HY,null,[se,(0,l._)("div",le,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.teamLabels,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id},[(0,l.Wm)(a,{"label-object":e,active:i.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>i.toggleLabel(e)},null,8,["label-object","active","onToggleLabel"])])))),128))]),ie,oe,(0,l._)("div",ne,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.questionTypes,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},[(0,l.Wm)(a,{"label-object":{label:e,id:e},active:i.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>i.toggleType(e)},null,8,["label-object","active","onToggleLabel"])])))),128))])],64)}var ue={name:"QuestionFilter",emits:["questionsFiltered"],components:{QuestionLabel:S.Z},setup(e,{emit:t}){const s=(0,H.oR)(),i=(0,l.Fl)((()=>s.getters.getTeamLabels)),o=(0,l.Fl)((()=>s.getters.getTeamQuestions));(0,l.YP)(o,(e=>{console.log("change"),t("questionsFiltered",e)})),(0,l.bv)((()=>{t("questionsFiltered",o.value)}));const n=(0,d.iH)(["multiple-choice","flash-card"]),a=(0,d.iH)([]),u=(0,d.iH)([]),r=(0,d.iH)(s.getters.getTeamQuestions),c=e=>{r.value=e.filter((e=>a.value.every((t=>e.questionLabels.some((e=>e.id===t.id)))))),console.log(r),t("questionsFiltered",r.value)},b=e=>{r.value=e.filter((e=>u.value.every((t=>e.type===t)))),t("questionsFiltered",r.value)},v=e=>a.value.some((t=>t.id===e.id)),p=(e,t)=>{const s=t.some((t=>t.id===e.id));return s?t=t.filter((t=>t.id!==e.id)):t.push(e),t},g=e=>{const t=u.value.some((t=>t===e));t?(u.value=u.value.filter((t=>t!==e)),b(o.value),c(r.value)):(u.value.push(e),b(r.value))},m=e=>{const t=a.value.some((t=>t.id===e.id));t?(a.value=a.value.filter((t=>t.id!==e.id)),c(o.value),b(r.value)):(a.value.push(e),c(r.value))};return{teamLabels:i,teamQuestions:o,questionTypes:n,selectedLabels:a,selectedTypes:u,isActive:v,toggle:p,toggleLabel:m,toggleType:g}}};const de=(0,E.Z)(ue,[["render",ae],["__scopeId","data-v-15236df1"]]);var re=de,ce={components:{QuestionFilter:re,SideBar:ee.Z,ProfileQuestions:X},setup(){const e=(0,d.iH)([]),t=t=>{console.log("Called"),e.value=t};return{filteredQuestions:e,updateQuestions:t}}};const be=(0,E.Z)(ce,[["render",u],["__scopeId","data-v-11e6dcd0"]]);var ve=be}}]);
//# sourceMappingURL=853.a2ad2c3e.js.map