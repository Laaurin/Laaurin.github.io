"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[329],{9084:function(e,t,s){s.r(t),s.d(t,{default:function(){return be}});var l=s(3396);const i={class:"container-fluid"},o={class:"row"},n={class:"col-3 sidebar"},a={class:"col"};function u(e,t,s,u,r,d){const c=(0,l.up)("question-filter"),b=(0,l.up)("side-bar"),v=(0,l.up)("profile-questions");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("div",o,[(0,l._)("div",n,[(0,l.Wm)(b,{show:!1},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onQuestionsFiltered:u.updateQuestions},null,8,["onQuestionsFiltered"])])),_:1})]),(0,l._)("div",a,[(0,l.Wm)(v,{questions:u.filteredQuestions},null,8,["questions"])])])])}var r=s(4870);const d=e=>((0,l.dD)("data-v-8b1996e4"),e=e(),(0,l.Cn)(),e),c={class:"profile-questions"},b={style:{position:"relative"}},v={class:"questions-list"},p={key:0},g=d((()=>(0,l._)("hr",null,null,-1)));function m(e,t,s,i,o,n){const a=(0,l.up)("editable-question"),u=(0,l.up)("edit-question-window");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",c,[(0,l._)("div",b,[(0,l._)("div",v,[i.filteredQuestions.length>0?((0,l.wg)(),(0,l.iD)("hr",p)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.filteredQuestions,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id},[(0,l.Wm)(a,{question:e,onEdit:t=>i.editQuestionHandler(e),onDelete:t=>i.deleteQuestionHandler(e.id)},null,8,["question","onEdit","onDelete"]),g])))),128))])])]),i.editQuestion?((0,l.wg)(),(0,l.j4)(u,{key:0,question:i.questionInEdit,onClose:t[0]||(t[0]=e=>i.editQuestion=!1)},null,8,["question"])):(0,l.kq)("",!0)],64)}var q=s(7139);const h=e=>((0,l.dD)("data-v-4408d958"),e=e(),(0,l.Cn)(),e),f={class:"row question-wrapper"},w={class:"col-1 ps-3"},L={class:"col"},Q={key:0},_={class:"col"},y={class:"d-flex flex-wrap"},T={class:"col-3 d-flex justify-content-end"},D=h((()=>(0,l._)("div",{class:"vertical-line"},null,-1))),x=h((()=>(0,l._)("i",{class:"bi bi-pencil-square"},null,-1))),C=[x];function F(e,t,s,i,o,n){const a=(0,l.up)("status-bar"),u=(0,l.up)("question-label");return(0,l.wg)(),(0,l.iD)("div",f,[(0,l._)("div",w,[0!==i.stats.totalSubmissions?((0,l.wg)(),(0,l.j4)(a,{key:0,"correct-count":i.stats.totalScore,"total-count":i.stats.totalSubmissions},null,8,["correct-count","total-count"])):(0,l.kq)("",!0)]),(0,l._)("div",L,[(0,l._)("div",null,[(0,l._)("div",{class:"text-start overflow-hidden",onClick:t[0]||(t[0]=e=>i.extended=!i.extended)},[(0,l.Uk)((0,q.zw)(s.question.questionText)+" ",1),i.extended?((0,l.wg)(),(0,l.iD)("div",Q,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.question.answerOptions,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},(0,q.zw)(e.text),1)))),128))])):(0,l.kq)("",!0)]),(0,l._)("div",_,[(0,l._)("div",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.question.questionLabels,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"overflow-hidden"},[(0,l.Wm)(u,{"label-object":e,active:!0},null,8,["label-object"])])))),128))])])])]),(0,l._)("div",T,[D,(0,l._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[1]||(t[1]=(...e)=>i.editQuestion&&i.editQuestion(...e))},C),(0,l._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[2]||(t[2]=(...e)=>i.toggleDelete&&i.toggleDelete(...e))},[(0,l._)("i",{class:(0,q.C_)([{"delete-icon":i.isDeleting,default:!i.isDeleting},"bi bi-trash"])},null,2)])])])}var k=s(65),H=s(4219);const S={class:"status-bar"};function j(e,t,s,i,o,n){return(0,l.wg)(),(0,l.iD)("div",S,[(0,l._)("div",{class:"status-bar-inner",style:(0,q.j5)({backgroundColor:i.barColor})},null,4)])}var I={props:{questionId:Number,correctCount:Number,totalCount:Number},setup(e){const t=(0,l.Fl)((()=>{const t={totalSubmissions:e.totalCount,totalScore:e.correctCount};return t??{totalSubmissions:0,totalScore:0}})),s=(0,l.Fl)((()=>{const e=["#7c3232","#ff6363","#e08f43","#e7e76c","#3b7c3b"];if(0===t.value.totalSubmissions)return"#808080";const s=Math.min(Math.floor(t.value.totalScore/t.value.totalSubmissions*e.length),e.length-1);return console.log(s),e[s]}));return{barColor:s}}},Z=s(89);const Y=(0,Z.Z)(I,[["render",j],["__scopeId","data-v-36410570"]]);var E=Y,W={components:{StatusBar:E,QuestionLabel:H.Z},props:{question:Object},setup(e,{emit:t}){const s=(0,k.oR)(),i=(0,l.Fl)((()=>s.getters.getTeamLabels)),o=(0,l.Fl)((()=>{const t=s.getters.userStats.find((t=>t.id===e.question.id));return t??{totalSubmissions:0,totalScore:0}})),n=(0,l.Fl)((()=>0===e.question.questionLabels.length)),a=(0,r.iH)(!1),u=(0,r.iH)(!1),d=(0,l.Fl)((()=>u.value?"Confirm":"Delete")),c=()=>{t("edit",e.question)},b=()=>{u.value?v():(u.value=!0,setTimeout((()=>{u.value=!1}),3e3))},v=()=>{t("delete",e.question),u.value=!1};return{teamLabels:i,stats:o,showLabels:n,extended:a,isDeleting:u,deleteButtonText:d,editQuestion:c,toggleDelete:b}}};const B=(0,Z.Z)(W,[["render",F],["__scopeId","data-v-4408d958"]]);var A=B;const N={class:"pop-up-window"},R={class:"pop-up-inner"};function K(e,t,s,i,o,n){return(0,l.wg)(),(0,l.iD)("div",N,[(0,l._)("div",R,[((0,l.wg)(),(0,l.j4)((0,l.LL)(i.currentQuestionType),{inputQuestion:i.currentQuestion,onCancel:n.cancelEditing,onReturnQuestion:n.saveChanges},null,40,["inputQuestion","onCancel","onReturnQuestion"]))])])}s(7658);var P=s(4853),O=s(2925),M=s(6022),z={components:{FlashCardBuilder:M.Z,MultipleChoiceQuestionBuilder:O.Z,QuestionLabel:H.Z,NewLabel:P.Z},emits:["close"],props:{question:Object},setup(e){const t=(0,k.oR)(),s=(0,l.Fl)((()=>t.getters.getTeamLabels)),i=(0,r.iH)([]),o=(0,l.Fl)((()=>s.value.concat(i.value))),n=(0,r.iH)({...e.question}),a=(0,l.Fl)((()=>"multiple-choice"===e.question.type?"multiple-choice-question-builder":"flash-card"===e.question.type?(console.log("flashcard"),"flash-card-builder"):null));return{teamLabels:s,addedLabels:i,displayedLabels:o,currentQuestion:n,currentQuestionType:a}},data(){return{questionText:"",answers:[{text:""},{text:""},{text:""},{text:""}],questionLabels:[],questionId:"",correctAnswerIndex:null,updatedQuestion:null}},methods:{...(0,k.nv)(["updateTeamQuestion","addNewLabelToTeamLabels"]),async saveChanges(e,t){await this.updateTeamLabels(t),console.log(e),await this.updateTeamQuestion(e),this.$emit("close")},cancelEditing(){this.$emit("close")},async updateTeamLabels(e){for(const t of e)t.id=await this.addNewLabelToTeamLabels(t.label),console.log(t);console.log("added Labels: ",e)},addLabel(e){this.addedLabels.push(e)},toggleLabel(e){const t=this.questionLabels.some((t=>t.id===e.id));t?this.questionLabels=this.questionLabels.filter((t=>t.id!==e.id)):this.questionLabels.push(e)},isActive(e){return this.questionLabels.some((t=>t.label===e.label))},createPrivateQuestion(){return{id:this.questionId,questionText:this.questionText,questionLabels:this.questionLabels.map((e=>({label:e.label,id:e.id}))),answerOptions:this.answers.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))}}}};const $=(0,Z.Z)(z,[["render",K],["__scopeId","data-v-71e2d606"]]);var U=$,G={name:"ProfileQuestions",components:{EditQuestionWindow:U,EditableQuestion:A},props:["questions"],setup(e){const t=(0,k.oR)(),s=(0,r.iH)(""),i=(0,r.iH)(!1),o=(0,r.iH)(null),n=(0,l.Fl)((()=>t.getters.getTeamLabels)),a=(0,l.Fl)((()=>e.questions)),u=(0,l.Fl)((()=>t.getters.userStats));(0,l.YP)(u,(()=>{console.log("stats updated")}));const d=e=>{a.value=a.value.filter((t=>t.id!==e)),t.dispatch("deleteQuestion",e)},c=e=>{o.value=e,i.value=!0},b=e=>{d(e)};return{teamLabels:n,filteredQuestions:a,editQuestion:i,questionInEdit:o,selectedLabel:s,editQuestionHandler:c,deleteQuestionHandler:b}}};const J=(0,Z.Z)(G,[["render",m],["__scopeId","data-v-8b1996e4"]]);var V=J,X=s(3306);const ee=e=>((0,l.dD)("data-v-15236df1"),e=e(),(0,l.Cn)(),e),te=ee((()=>(0,l._)("p",{class:"filter-title text-center"},"Filter By Label",-1))),se={class:"label-container mb-3"},le=ee((()=>(0,l._)("hr",{style:{color:"whitesmoke"}},null,-1))),ie=ee((()=>(0,l._)("p",{class:"filter-title text-center"},"Filter By Type",-1))),oe={class:"label-container"};function ne(e,t,s,i,o,n){const a=(0,l.up)("question-label");return(0,l.wg)(),(0,l.iD)(l.HY,null,[te,(0,l._)("div",se,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.teamLabels,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id},[(0,l.Wm)(a,{"label-object":e,active:i.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>i.toggleLabel(e)},null,8,["label-object","active","onToggleLabel"])])))),128))]),le,ie,(0,l._)("div",oe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.questionTypes,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},[(0,l.Wm)(a,{"label-object":{label:e,id:e},active:i.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>i.toggleType(e)},null,8,["label-object","active","onToggleLabel"])])))),128))])],64)}var ae={name:"QuestionFilter",emits:["questionsFiltered"],components:{QuestionLabel:H.Z},setup(e,{emit:t}){const s=(0,k.oR)(),i=(0,l.Fl)((()=>s.getters.getTeamLabels)),o=(0,l.Fl)((()=>s.getters.getTeamQuestions));(0,l.YP)(o,(e=>{console.log("change"),t("questionsFiltered",e)})),(0,l.bv)((()=>{t("questionsFiltered",o.value)}));const n=(0,r.iH)(["multiple-choice","flash-card"]),a=(0,r.iH)([]),u=(0,r.iH)([]),d=(0,r.iH)(s.getters.getTeamQuestions),c=e=>{d.value=e.filter((e=>a.value.every((t=>e.questionLabels.some((e=>e.id===t.id)))))),console.log(d),t("questionsFiltered",d.value)},b=e=>{d.value=e.filter((e=>u.value.every((t=>e.type===t)))),t("questionsFiltered",d.value)},v=e=>a.value.some((t=>t.id===e.id)),p=(e,t)=>{const s=t.some((t=>t.id===e.id));return s?t=t.filter((t=>t.id!==e.id)):t.push(e),t},g=e=>{const t=u.value.some((t=>t===e));t?(u.value=u.value.filter((t=>t!==e)),b(o.value),c(d.value)):(u.value.push(e),b(d.value))},m=e=>{const t=a.value.some((t=>t.id===e.id));t?(a.value=a.value.filter((t=>t.id!==e.id)),c(o.value),b(d.value)):(a.value.push(e),c(d.value))};return{teamLabels:i,teamQuestions:o,questionTypes:n,selectedLabels:a,selectedTypes:u,isActive:v,toggle:p,toggleLabel:m,toggleType:g}}};const ue=(0,Z.Z)(ae,[["render",ne],["__scopeId","data-v-15236df1"]]);var re=ue,de={components:{QuestionFilter:re,SideBar:X.Z,ProfileQuestions:V},setup(){const e=(0,r.iH)([]),t=t=>{console.log("Called"),e.value=t};return{filteredQuestions:e,updateQuestions:t}}};const ce=(0,Z.Z)(de,[["render",u],["__scopeId","data-v-3aed99bc"]]);var be=ce}}]);
//# sourceMappingURL=329.d1ed912c.js.map