"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[12],{7001:function(e,t,s){s.r(t),s.d(t,{default:function(){return ce}});var i=s(3396);const l={class:"container-fluid"},n={class:"row"},o={class:"col-3"},a={class:"col"};function u(e,t,s,u,d,r){const c=(0,i.up)("question-filter"),b=(0,i.up)("side-bar"),p=(0,i.up)("profile-questions");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",n,[(0,i._)("div",o,[(0,i.Wm)(b,{class:"shadow"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{onQuestionsFiltered:r.updateQuestions},null,8,["onQuestionsFiltered"])])),_:1})]),(0,i._)("div",a,[(0,i.Wm)(p,{questions:d.filteredQuestions},null,8,["questions"])])])])}const d={class:"profile-questions"},r={class:"container questions-list"};function c(e,t,s,l,n,o){const a=(0,i.up)("editable-question"),u=(0,i.up)("edit-question-window");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",d,[(0,i._)("div",r,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.filteredQuestions,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s},[(0,i.Wm)(a,{question:t,onEdit:o.edit,onDelete:s=>e.deleteQuestion(t.id)},null,8,["question","onEdit","onDelete"])])))),128))])]),l.editQuestion?((0,i.wg)(),(0,i.j4)(u,{key:0,question:l.questionInEdit,onClose:t[0]||(t[0]=e=>l.editQuestion=!1)},null,8,["question"])):(0,i.kq)("",!0)],64)}var b=s(7139);const p=e=>((0,i.dD)("data-v-335ea299"),e=e(),(0,i.Cn)(),e),g={class:"row"},v={class:"col-1"},m={class:"col"},h={key:0},f={class:"row align-items-center"},q={class:"col"},w={class:"d-flex flex-wrap"},L={class:"col-4"},Q=p((()=>(0,i._)("i",{class:"bi bi-pencil-square"},null,-1))),_=p((()=>(0,i._)("span",{class:"d-none d-md-inline"},"Edit",-1))),D=[Q,_],T={class:"d-none d-md-inline"},y=p((()=>(0,i._)("hr",null,null,-1)));function x(e,t,s,l,n,o){const a=(0,i.up)("status-bar"),u=(0,i.up)("question-label");return(0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",v,[(0,i.Wm)(a,{"correct-count":40,"total-count":100})]),(0,i._)("div",m,[(0,i._)("div",null,[(0,i._)("div",{class:"text-start",onClick:t[0]||(t[0]=e=>n.extended=!n.extended)},[(0,i.Uk)((0,b.zw)(s.question.questionText)+" ",1),n.extended?((0,i.wg)(),(0,i.iD)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.question.answerOptions,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},(0,b.zw)(e.text),1)))),128))])):(0,i.kq)("",!0)]),(0,i._)("div",f,[(0,i._)("div",q,[(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.question.questionLabels,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(u,{"label-object":e,active:!0},null,8,["label-object"])])))),128))])])])])]),(0,i._)("div",L,[(0,i._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[1]||(t[1]=(...e)=>o.editQuestion&&o.editQuestion(...e))},D),(0,i._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[3]||(t[3]=(...e)=>o.toggleDelete&&o.toggleDelete(...e))},[(0,i._)("i",{class:(0,b.C_)([{"delete-icon":n.isDeleting,default:!n.isDeleting},"bi bi-trash"]),onAnimationend:t[2]||(t[2]=(...t)=>e.resetDeleteButton&&e.resetDeleteButton(...t))},null,34),(0,i._)("span",T,(0,b.zw)(o.deleteButtonText),1)])]),y])}var C=s(6570),k=s(65);const F={class:"status-bar"};function H(e,t,s,l,n,o){return(0,i.wg)(),(0,i.iD)("div",F,[(0,i._)("div",{class:"status-bar-inner",style:(0,b.j5)({backgroundColor:o.barColor})},null,4)])}var I={props:{correctCount:Number,totalCount:Number},computed:{barColor(){const e=["#8b0000","#ff0000","#e08f43","#ffff00","#008000"];if(0===this.totalCount)return"#808080";const t=Math.min(Math.floor(this.correctCount/this.totalCount*e.length),e.length-1);return console.log(t),e[t]}}},Z=s(89);const j=(0,Z.Z)(I,[["render",H],["__scopeId","data-v-15ce0438"]]);var B=j,E={components:{StatusBar:B,QuestionLabel:C.Z},emits:["edit","delete"],props:{question:Object},setup(){const e=(0,k.oR)(),t=(0,i.Fl)((()=>e.getters.getTeamLabels));return{teamLabels:t}},data(){return{extended:!1,isDeleting:!1}},computed:{deleteButtonText(){return this.isDeleting?"Confirm ":"Delete"}},methods:{editQuestion(){this.$emit("edit",this.question)},toggleDelete(){this.isDeleting?this.delete():(this.isDeleting=!0,setTimeout((()=>{this.isDeleting=!1}),3e3))},delete(){this.$emit("delete",this.question),this.isDeleting=!1}}};const W=(0,Z.Z)(E,[["render",x],["__scopeId","data-v-335ea299"]]);var A=W;const Y={class:"pop-up-window"},R={class:"pop-up-inner"};function K(e,t,s,l,n,o){return(0,i.wg)(),(0,i.iD)("div",Y,[(0,i._)("div",R,[((0,i.wg)(),(0,i.j4)((0,i.LL)(l.currentQuestionType),{inputQuestion:l.currentQuestion,onCancel:o.cancelEditing,onReturnQuestion:o.saveChanges},null,40,["inputQuestion","onCancel","onReturnQuestion"]))])])}s(7658);var N=s(4870),$=s(4853),O=s(3320),z=s(4612),M={components:{FlashCardBuilder:z.Z,MultipleChoiceQuestionBuilder:O.Z,QuestionLabel:C.Z,NewLabel:$.Z},emits:["close"],props:{question:Object},setup(e){const t=(0,k.oR)(),s=(0,i.Fl)((()=>t.getters.getTeamLabels)),l=(0,N.iH)([]),n=(0,i.Fl)((()=>s.value.concat(l.value))),o=(0,N.iH)({...e.question}),a=(0,i.Fl)((()=>"multiple-choice"===e.question.type?"multiple-choice-question-builder":"flash-card"===e.question.type?(console.log("flashcard"),"flash-card-builder"):null));return{teamLabels:s,addedLabels:l,displayedLabels:n,currentQuestion:o,currentQuestionType:a}},data(){return{questionText:"",answers:[{text:""},{text:""},{text:""},{text:""}],questionLabels:[],questionId:"",correctAnswerIndex:null,updatedQuestion:null}},methods:{...(0,k.nv)(["updateTeamQuestion","addNewLabelToTeamLabels"]),async saveChanges(e,t){await this.updateTeamLabels(t),console.log(e),await this.updateTeamQuestion(e),this.$emit("close")},cancelEditing(){this.$emit("close")},async updateTeamLabels(e){for(const t of e)t.id=await this.addNewLabelToTeamLabels(t.label),console.log(t);console.log("added Labels: ",e)},addLabel(e){this.addedLabels.push(e)},toggleLabel(e){const t=this.questionLabels.some((t=>t.id===e.id));t?this.questionLabels=this.questionLabels.filter((t=>t.id!==e.id)):this.questionLabels.push(e)},isActive(e){return this.questionLabels.some((t=>t.label===e.label))},createPrivateQuestion(){return{id:this.questionId,questionText:this.questionText,questionLabels:this.questionLabels.map((e=>({label:e.label,id:e.id}))),answerOptions:this.answers.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))}}}};const P=(0,Z.Z)(M,[["render",K],["__scopeId","data-v-75fc62b0"]]);var S=P,U={name:"ProfileQuestions",components:{EditQuestionWindow:S,EditableQuestion:A},props:["questions"],setup(e){const t=(0,k.oR)(),s=(0,N.iH)(""),l=(0,N.iH)(!1),n=(0,N.iH)(null),o=(0,i.Fl)((()=>t.getters.getTeamLabels)),a=(0,i.Fl)((()=>e.questions));return{teamLabels:o,filteredQuestions:a,editQuestion:l,questionInEdit:n,selectedLabel:s}},methods:{...(0,k.nv)(["deleteQuestion"]),edit(e){this.questionInEdit=e,this.editQuestion=!0}}};const G=(0,Z.Z)(U,[["render",c],["__scopeId","data-v-47330d60"]]);var J=G,V=s(2626);const X=e=>((0,i.dD)("data-v-37b3f74c"),e=e(),(0,i.Cn)(),e),ee=X((()=>(0,i._)("p",{class:"filter-title text-center"},"Filter By Label",-1))),te={class:"label-container mb-3"},se=X((()=>(0,i._)("hr",{style:{color:"whitesmoke"}},null,-1))),ie=X((()=>(0,i._)("p",{class:"filter-title text-center"},"Filter By Type",-1))),le={class:"label-container"};function ne(e,t,s,l,n,o){const a=(0,i.up)("question-label");return(0,i.wg)(),(0,i.iD)(i.HY,null,[ee,(0,i._)("div",te,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.teamLabels,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(a,{"label-object":e,active:l.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>l.toggleLabel(e)},null,8,["label-object","active","onToggleLabel"])])))),128))]),se,ie,(0,i._)("div",le,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.questionTypes,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e},[(0,i.Wm)(a,{"label-object":{label:e,id:e},active:l.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>l.toggleType(e)},null,8,["label-object","active","onToggleLabel"])])))),128))])],64)}var oe={name:"QuestionFilter",emits:["questionsFiltered"],components:{QuestionLabel:C.Z},setup(e,{emit:t}){const s=(0,k.oR)(),l=(0,i.Fl)((()=>s.getters.getTeamLabels)),n=(0,i.Fl)((()=>s.getters.getTeamQuestions)),o=(0,N.iH)(["multiple-choice","flash-card"]),a=(0,N.iH)([]),u=(0,N.iH)([]),d=(0,N.iH)(s.getters.getTeamQuestions),r=e=>{d.value=e.filter((e=>a.value.every((t=>e.questionLabels.some((e=>e.id===t.id)))))),console.log(d),t("questionsFiltered",d.value)},c=e=>{d.value=e.filter((e=>(console.log(e),u.value.every((t=>e.type===t))))),t("questionsFiltered",d.value)},b=e=>a.value.some((t=>t.id===e.id)),p=(e,t)=>{const s=t.some((t=>t.id===e.id));return s?t=t.filter((t=>t.id!==e.id)):t.push(e),t},g=e=>{const t=u.value.some((t=>t===e));t?(u.value=u.value.filter((t=>t!==e)),c(n.value),r(d.value)):(u.value.push(e),c(d.value))},v=e=>{const t=a.value.some((t=>t.id===e.id));t?(a.value=a.value.filter((t=>t.id!==e.id)),r(n.value),c(d.value)):(a.value.push(e),r(d.value))};return{teamLabels:l,teamQuestions:n,questionTypes:o,selectedLabels:a,selectedTypes:u,isActive:b,toggle:p,toggleLabel:v,toggleType:g}}};const ae=(0,Z.Z)(oe,[["render",ne],["__scopeId","data-v-37b3f74c"]]);var ue=ae,de={components:{QuestionFilter:ue,SideBar:V.Z,ProfileQuestions:J},data(){return{filteredQuestions:[]}},methods:{updateQuestions(e){console.log("called"),this.filteredQuestions=e}},created(){this.filteredQuestions=this.$store.getters.getTeamQuestions}};const re=(0,Z.Z)(de,[["render",u],["__scopeId","data-v-085ce792"]]);var ce=re}}]);
//# sourceMappingURL=12.27a97dca.js.map