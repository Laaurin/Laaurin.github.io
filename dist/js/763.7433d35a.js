"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[763],{4853:function(e,t,l){l.d(t,{Z:function(){return u}});var s=l(3396),i=l(9242);const n={key:0,class:"labelText"};function a(e,t,l,a,o,d){return(0,s.wg)(),(0,s.iD)("div",{class:"labelCard new-label",onClick:t[4]||(t[4]=(...e)=>d.startEditing&&d.startEditing(...e))},[o.editing?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",n,"New Label +")),o.editing?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:1,type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.label=e),onKeydown:[t[1]||(t[1]=(0,i.D2)(((...e)=>d.saveNewLabel&&d.saveNewLabel(...e)),["enter"])),t[2]||(t[2]=(0,i.D2)(((...e)=>d.cancelEditing&&d.cancelEditing(...e)),["esc"]))],onBlur:t[3]||(t[3]=(...e)=>d.cancelEditing&&d.cancelEditing(...e)),ref:"input"},null,544)),[[i.nr,o.label]]):(0,s.kq)("",!0)])}var o={emits:["new-label"],data(){return{editing:!1,label:""}},methods:{startEditing(){this.editing=!0,this.$nextTick((()=>{this.$refs.input.focus()}))},saveNewLabel(){""!==this.label.trim()&&this.label.trim().length<15&&(this.$emit("new-label",{label:this.label,id:(new Date).getTime().toString()}),this.editing=!1,this.label="")},cancelEditing(){this.editing=!1,this.label=""}}},d=l(89);const r=(0,d.Z)(o,[["render",a],["__scopeId","data-v-2421300e"]]);var u=r},5676:function(e,t,l){l.d(t,{Z:function(){return w}});var s=l(3396),i=l(7139);const n=e=>((0,s.dD)("data-v-36651764"),e=e(),(0,s.Cn)(),e),a={class:"labelText"},o=n((()=>(0,s._)("i",{class:"bi bi-x"},null,-1))),d=[o];function r(e,t,l,n,o,r){return(0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["labelCard",{active:o.selected,clickable:l.clickable}]),onClick:t[1]||(t[1]=e=>l.clickable?r.toggleLabel():null)},[(0,s._)("div",a,(0,i.zw)(l.labelObject.label),1),o.selected&&l.clickable?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"removeIcon",onClick:t[0]||(t[0]=t=>e.deleteLabel(l.labelObject.id))},d)):(0,s.kq)("",!0)],2)}var u=l(65),c={emits:["toggle-label"],props:{labelObject:Object,active:Boolean,clickable:{type:Boolean,default:!1}},data(){return{selected:!1}},methods:{...(0,u.nv)(["deleteLabel"]),toggleLabel(){this.selected=!this.selected,this.$emit("toggle-label",this.labelObject)}},created(){this.selected=this.active},name:"QuestionLabel"},b=l(89);const p=(0,b.Z)(c,[["render",r],["__scopeId","data-v-36651764"]]);var w=p},1763:function(e,t,l){l.r(t),l.d(t,{default:function(){return be}});var s=l(3396);const i={class:"container"};function n(e,t,l,n,a,o){const d=(0,s.up)("profile-questions");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(d)])}var a=l(7139),o=l(9242);const d=e=>((0,s.dD)("data-v-4ba4e46f"),e=e(),(0,s.Cn)(),e),r={class:"profile-questions"},u={class:"filter-bar"},c=d((()=>(0,s._)("label",{for:"filter"},"Filter by Label:",-1))),b=d((()=>(0,s._)("option",{value:"",class:"dropdown-item"},"All Labels",-1))),p=["value"],w={class:"container questions-list"};function v(e,t,l,i,n,d){const v=(0,s.up)("editable-question"),g=(0,s.up)("edit-question-window");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[(0,s._)("div",u,[c,(0,s.wy)((0,s._)("select",{class:"dropdown",id:"filter","onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedLabel=e)},[b,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.teamLabels,(e=>((0,s.wg)(),(0,s.iD)("option",{class:"dropdown-item",key:e.id,value:e.label},(0,a.zw)(e.label),9,p)))),128))],512),[[o.bM,i.selectedLabel]])]),(0,s._)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredQuestions,((t,l)=>((0,s.wg)(),(0,s.iD)("div",{key:l},[(0,s.Wm)(v,{question:t,onEdit:d.edit,onDelete:l=>e.deleteQuestion(t.id)},null,8,["question","onEdit","onDelete"])])))),128))])]),i.editQuestion?((0,s.wg)(),(0,s.j4)(g,{key:0,question:i.questionInEdit,onClose:t[1]||(t[1]=e=>i.editQuestion=!1)},null,8,["question"])):(0,s.kq)("",!0)],64)}const g=e=>((0,s.dD)("data-v-e48e5552"),e=e(),(0,s.Cn)(),e),m={class:"row"},h={class:"col"},q={key:0},_={class:"row align-items-center"},L={class:"col"},x={class:"d-flex flex-wrap"},y={class:"col"},f=g((()=>(0,s._)("i",{class:"bi bi-pencil-square"},null,-1))),D=g((()=>(0,s._)("span",{class:"d-none d-md-inline"},"Edit",-1))),k=[f,D],T={class:"d-none d-md-inline"},Q=g((()=>(0,s._)("hr",null,null,-1)));function C(e,t,l,i,n,o){const d=(0,s.up)("question-label");return(0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("div",h,[(0,s._)("div",null,[(0,s._)("div",{class:"text-start",onClick:t[0]||(t[0]=e=>n.extended=!n.extended)},[(0,s.Uk)((0,a.zw)(l.question.questionText)+" ",1),n.extended?((0,s.wg)(),(0,s.iD)("div",q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.question.answerOptions,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},(0,a.zw)(e.text),1)))),128))])):(0,s.kq)("",!0)]),(0,s._)("div",_,[(0,s._)("div",L,[(0,s._)("div",x,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.question.questionLabels,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s.Wm)(d,{"label-object":e,active:!0},null,8,["label-object"])])))),128))])])])])]),(0,s._)("div",y,[(0,s._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[1]||(t[1]=(...e)=>o.editQuestion&&o.editQuestion(...e))},k),(0,s._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[3]||(t[3]=(...e)=>o.toggleDelete&&o.toggleDelete(...e))},[(0,s._)("i",{class:(0,a.C_)([{"delete-icon":n.isDeleting,default:!n.isDeleting},"bi bi-trash"]),onAnimationend:t[2]||(t[2]=(...t)=>e.resetDeleteButton&&e.resetDeleteButton(...t))},null,34),(0,s._)("span",T,(0,a.zw)(o.deleteButtonText),1)])]),Q])}var I=l(5676),E=l(65),A={components:{QuestionLabel:I.Z},emits:["edit","delete"],props:{question:Object},setup(){const e=(0,E.oR)(),t=(0,s.Fl)((()=>e.getters.getTeamLabels));return{teamLabels:t}},data(){return{extended:!1,isDeleting:!1}},computed:{deleteButtonText(){return this.isDeleting?"Confirm ":"Delete"}},methods:{editQuestion(){this.$emit("edit",this.question)},toggleDelete(){this.isDeleting?this.delete():(this.isDeleting=!0,setTimeout((()=>{this.isDeleting=!1}),3e3))},delete(){this.$emit("delete",this.question),this.isDeleting=!1}}},O=l(89);const j=(0,O.Z)(A,[["render",C],["__scopeId","data-v-e48e5552"]]);var U=j;const H=e=>((0,s.dD)("data-v-3c081dc8"),e=e(),(0,s.Cn)(),e),V={class:"pop-up-window"},Z={class:"pop-up-inner"},N={class:"mb-3"},$={class:"question-input-wrapper"},B={class:"mb-3"},F={class:"option-input-wrapper"},K=H((()=>(0,s._)("label",{class:"answer-label",for:"answer1"},"Option 1:",-1))),W={class:"mb-3"},Y={class:"option-input-wrapper"},z=H((()=>(0,s._)("label",{class:"answer-label",for:"answer2"},"Option 2:",-1))),G={class:"mb-3"},P={class:"option-input-wrapper"},R=H((()=>(0,s._)("label",{class:"answer-label",for:"answer3"},"Option 3:",-1))),S={class:"mb-3"},M={class:"option-input-wrapper"},J=H((()=>(0,s._)("label",{class:"answer-label",for:"answer4"},"Option 4:",-1))),X={class:"label-list"},ee={class:"label-wrapper"};function te(e,t,l,i,n,a){const d=(0,s.up)("QuestionLabel"),r=(0,s.up)("new-label");return(0,s.wg)(),(0,s.iD)("div",V,[(0,s._)("div",Z,[(0,s._)("div",N,[(0,s._)("div",$,[(0,s.wy)((0,s._)("input",{type:"text",id:"question","onUpdate:modelValue":t[0]||(t[0]=e=>n.questionText=e),placeholder:"Enter your question here",required:""},null,512),[[o.nr,n.questionText]])])]),(0,s._)("div",B,[(0,s._)("div",F,[K,(0,s.wy)((0,s._)("input",{type:"text",id:"answer1","onUpdate:modelValue":t[1]||(t[1]=e=>n.answers[0].text=e),required:""},null,512),[[o.nr,n.answers[0].text]]),(0,s.wy)((0,s._)("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=e=>n.correctAnswerIndex=e),value:0,required:""},null,512),[[o.G2,n.correctAnswerIndex]])])]),(0,s._)("div",W,[(0,s._)("div",Y,[z,(0,s.wy)((0,s._)("input",{type:"text",id:"answer2","onUpdate:modelValue":t[3]||(t[3]=e=>n.answers[1].text=e),required:""},null,512),[[o.nr,n.answers[1].text]]),(0,s.wy)((0,s._)("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=e=>n.correctAnswerIndex=e),value:1,required:""},null,512),[[o.G2,n.correctAnswerIndex]])])]),(0,s._)("div",G,[(0,s._)("div",P,[R,(0,s.wy)((0,s._)("input",{type:"text",id:"answer3","onUpdate:modelValue":t[5]||(t[5]=e=>n.answers[2].text=e),required:""},null,512),[[o.nr,n.answers[2].text]]),(0,s.wy)((0,s._)("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=e=>n.correctAnswerIndex=e),value:2,required:""},null,512),[[o.G2,n.correctAnswerIndex]])])]),(0,s._)("div",S,[(0,s._)("div",M,[J,(0,s.wy)((0,s._)("input",{type:"text",id:"answer4","onUpdate:modelValue":t[7]||(t[7]=e=>n.answers[3].text=e),required:""},null,512),[[o.nr,n.answers[3].text]]),(0,s.wy)((0,s._)("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=e=>n.correctAnswerIndex=e),value:3,required:""},null,512),[[o.G2,n.correctAnswerIndex]])])]),(0,s._)("div",X,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.teamLabels.concat(i.addedLabels),((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"label-wrapper",key:t},[(0,s.Wm)(d,{"label-object":e,clickable:!0,active:a.isActive(e),onToggleLabel:a.toggleLabel},null,8,["label-object","active","onToggleLabel"])])))),128)),(0,s._)("div",ee,[(0,s.Wm)(r,{onNewLabel:a.addLabel},null,8,["onNewLabel"])])]),(0,s._)("button",{class:"my-global-button",onClick:t[9]||(t[9]=(...e)=>a.saveChanges&&a.saveChanges(...e))},"Save"),(0,s._)("button",{class:"my-global-button",onClick:t[10]||(t[10]=(...e)=>a.cancelEditing&&a.cancelEditing(...e))},"Cancel")])])}l(7658);var le=l(4870),se=l(4853),ie={components:{QuestionLabel:I.Z,NewLabel:se.Z},emits:["close"],props:{question:Object},setup(e){const t=(0,E.oR)(),l=(0,s.Fl)((()=>t.getters.getTeamLabels)),i=(0,le.iH)([]),n=(0,s.Fl)((()=>l.value.concat(i.value))),a=(0,le.iH)({...e.question});return{teamLabels:l,addedLabels:i,displayedLabels:n,myQuestion:a}},data(){return{questionText:"",answers:[{text:""},{text:""},{text:""},{text:""}],questionLabels:[],questionId:"",correctAnswerIndex:null,updatedQuestion:null}},methods:{...(0,E.nv)(["updateTeamQuestion","addNewLabelToTeamLabels"]),async saveChanges(){await this.updateTeamLabels();const e=this.createPrivateQuestion();console.log(e),await this.updateTeamQuestion(e),this.$emit("close")},cancelEditing(){this.$emit("close")},async updateTeamLabels(){for(const e of this.addedLabels){const t=await this.addNewLabelToTeamLabels(e.label);e.id=t,console.log(e)}console.log("added Labels: ",this.addedLabels)},addLabel(e){this.addedLabels.push(e)},toggleLabel(e){const t=this.questionLabels.some((t=>t.id===e.id));t?this.questionLabels=this.questionLabels.filter((t=>t.id!==e.id)):this.questionLabels.push(e)},isActive(e){return this.questionLabels.some((t=>t.label===e.label))},createPrivateQuestion(){return{id:this.questionId,questionText:this.questionText,questionLabels:this.questionLabels.map((e=>({label:e.label,id:e.id}))),answerOptions:this.answers.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))}}},created(){this.questionText=this.question.questionText,this.questionId=this.question.id,this.answers=this.question.answerOptions.map((e=>({text:e.text}))),this.questionLabels=this.question.questionLabels.map((e=>({label:e.label,id:e.id}))),this.correctAnswerIndex=this.question.answerOptions.findIndex((e=>e.isCorrect))}};const ne=(0,O.Z)(ie,[["render",te],["__scopeId","data-v-3c081dc8"]]);var ae=ne,oe={name:"ProfileQuestions",components:{EditQuestionWindow:ae,EditableQuestion:U},setup(){const e=(0,E.oR)(),t=(0,le.iH)(""),l=(0,le.iH)(!1),i=(0,le.iH)(null),n=(0,s.Fl)((()=>e.getters.getTeamQuestions)),a=(0,s.Fl)((()=>e.getters.getTeamLabels)),o=(0,s.Fl)((()=>t.value?n.value.filter((e=>e.questionLabels.some((e=>e.label===t.value)))):n.value));return{teamQuestions:n,teamLabels:a,filteredQuestions:o,editQuestion:l,questionInEdit:i,selectedLabel:t}},methods:{...(0,E.nv)(["deleteQuestion"]),edit(e){this.questionInEdit=e,this.editQuestion=!0}}};const de=(0,O.Z)(oe,[["render",v],["__scopeId","data-v-4ba4e46f"]]);var re=de,ue={components:{ProfileQuestions:re}};const ce=(0,O.Z)(ue,[["render",n]]);var be=ce}}]);
//# sourceMappingURL=763.7433d35a.js.map