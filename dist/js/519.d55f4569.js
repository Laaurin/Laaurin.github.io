"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[519],{4519:function(e,s,t){t.r(s),t.d(s,{default:function(){return D}});var r=t(3396),i=t(7139);const n={class:"pop-up-window"},c={class:"pop-up-inner"},l={class:"d-flex justify-content-start"};function o(e,s,t,o,a,d){const u=(0,r.up)("selectable-user"),g=(0,r.up)("new-user");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",c,[(0,r._)("div",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.userList,(e=>((0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)([{active:e.id===o.selectedProfileId},"selection-option"]),key:e.id},[(0,r.Wm)(u,{"user-name":e.name,onSelect:s=>d.setActive(e)},null,8,["user-name","onSelect"])],2)))),128)),(0,r._)("div",null,[(0,r.Wm)(g)])])])])}const a=e=>((0,r.dD)("data-v-74755e61"),e=e(),(0,r.Cn)(),e),d=a((()=>(0,r._)("i",{style:{"font-size":"50px"},class:"bi bi-person"},null,-1)));function u(e,s,t,n,c,l){return(0,r.wg)(),(0,r.iD)("div",{class:"profile",onClick:s[0]||(s[0]=(...e)=>l.select&&l.select(...e))},[d,(0,r._)("p",null,(0,i.zw)(t.userName),1)])}var g={name:"SelectableUser",props:{userName:String},emits:["select"],methods:{select(){this.$emit("select")}}},p=t(89);const m=(0,p.Z)(g,[["render",u],["__scopeId","data-v-74755e61"]]);var v=m,U=t(9242);const h={key:0,class:"profile"},f={key:1};function w(e,s,t,i,n,c){return n.addingUser?((0,r.wg)(),(0,r.iD)("div",f,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.user.name=e),placeholder:"Enter user's name",onKeydown:s[2]||(s[2]=(0,U.D2)(((...e)=>c.saveUser&&c.saveUser(...e)),["enter"]))},null,544),[[U.nr,n.user.name]]),(0,r._)("button",{onClick:s[3]||(s[3]=(...e)=>c.saveUser&&c.saveUser(...e))},"Save"),(0,r._)("button",{onClick:s[4]||(s[4]=(...e)=>c.cancelUser&&c.cancelUser(...e))},"Cancel")])):((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("i",{style:{"font-size":"30px",cursor:"pointer"},class:"bi bi-plus-circle",onClick:s[0]||(s[0]=(...e)=>c.toggleAddingUser&&c.toggleAddingUser(...e))})]))}var _={name:"NewUser",data(){return{addingUser:!1,user:{name:""}}},methods:{toggleAddingUser(){this.addingUser=!this.addingUser},saveUser(){this.$store.dispatch("createNewUserProfile",this.user),this.toggleAddingUser()},cancelUser(){this.newUserName="",this.toggleAddingUser()}}};const S=(0,p.Z)(_,[["render",w],["__scopeId","data-v-6caf10da"]]);var b=S,k=t(65),y=t(4870),A={name:"UserSelection",components:{NewUser:b,SelectableUser:v},emits:["userSelected"],setup(e,{emit:s}){const t=(0,k.oR)(),i=(0,y.iH)(t.getters.userProfiles),n=(0,y.iH)(t.getters.userProfileId);(0,r.wF)((async()=>{0===i.value.length&&(await t.dispatch("fetchUserProfiles"),i.value=t.getters.userProfiles)}));const c=async e=>{console.log("setting"+e),t.commit("setActiveUser",{user:e}),await t.dispatch("fetchUserStats"),console.log(t.getters.userStats),s("userSelected")};return{userList:i,selectedProfileId:n,setUser:c}},methods:{async setActive(e){console.log(e),this.$store.commit("setActiveUser",e),await this.$store.dispatch("fetchUserStats"),console.log(this.$store.getters.userStats),this.$emit("userSelected")}}};const C=(0,p.Z)(A,[["render",o],["__scopeId","data-v-c04870c8"]]);var D=C}}]);
//# sourceMappingURL=519.d55f4569.js.map