"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[775],{8989:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var i=s(3396),n=s(7139);const o={class:""},a={class:"button-outer"};function l(e,t,s,l,u,c){const r=(0,i.up)("the-side-bar"),d=(0,i.up)("multiple-choice-question-builder"),h=(0,i.up)("flash-card-builder");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,[(0,i._)("div",null,[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i._)("button",{class:"btn my-button button-text",onClick:t[0]||(t[0]=e=>l.selectedComponent="multiple-choice")}," Multiple Choice ")]),(0,i._)("div",a,[(0,i._)("button",{class:"btn my-button button-text",onClick:t[1]||(t[1]=e=>l.selectedComponent="flash-card")}," Flashcard ")])])),_:1})]),(0,i._)("div",{class:"d-flex justify-content-center align-items-center",style:(0,n.j5)([{"margin-left":l.sidebarWidth},{height:"calc(100dvh - 100px)"}])},["multiple-choice"===l.selectedComponent?((0,i.wg)(),(0,i.j4)(d,{key:0,uploading:!0,onReturnQuestion:c.submitQuestion},null,8,["onReturnQuestion"])):"flash-card"===l.selectedComponent?((0,i.wg)(),(0,i.j4)(h,{key:1,uploading:!0,onReturnQuestion:c.submitQuestion},null,8,["onReturnQuestion"])):(0,i.kq)("",!0)],4)])])}s(7658);var u=s(4870),c=s(3863),r=s(1476),d=s(729),h=s(4363),b=s(65),p={components:{TheSideBar:h.Z,SideBar:d.Z,FlashCardBuilder:r.Z,MultipleChoiceQuestionBuilder:c.Z},setup(){const e=(0,b.oR)(),t=(0,u.iH)("multiple-choice"),s=(0,u.iH)(""),n=(0,u.iH)([{text:""},{text:""},{text:""},{text:""}]),o=(0,u.iH)(null),a=(0,u.iH)(!1),l=(0,u.iH)([]),c=(0,u.iH)([]),r=(0,i.Fl)((()=>e.getters.getSidebarWidth));return{selectedComponent:t,questionText:s,answerOptions:n,questionLabels:l,correctAnswerIndex:o,isPrivateQuestion:a,addedLabels:c,sidebarWidth:r}},methods:{async submitQuestion(e,t){delete e.id,e.questionLabels=await this.saveNewLabelsToTeam(t,e.questionLabels),console.log(e),await this.$store.dispatch("uploadPrivateQuestion",e)},addLabel(e){this.addedLabels.push(e)},async submitForm(){if(null!==this.correctAnswerIndex){if(this.isPrivateQuestion){await this.saveNewLabelsToTeam();const e=await this.createQuestion();console.log(e),await this.$store.dispatch("uploadPrivateQuestion",e)}else{const e=await this.createQuestion();console.log(e),await this.$store.dispatch("uploadPublicQuestion",e)}this.questionText="",this.answerOptions.forEach((e=>e.text="")),this.correctAnswerIndex=null,this.isPrivateQuestion=!1,this.questionLabels=[],this.addedLabels=[]}else alert("Please select the correct answer!")},async createQuestion(){const e={questionText:this.questionText,answerOptions:this.answerOptions.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))};return this.isPrivateQuestion&&(e.questionLabels=this.questionLabels.map((e=>({label:e.label,id:e.id})))),e},async saveNewLabelsToTeam(e,t){console.log("adding labels...");for(const s of e){const e=await this.$store.dispatch("addNewLabelToTeamLabels",s.label),i=t.findIndex((e=>e.label===s.label));-1!==i&&(t[i].id=e)}return t},toggleLabel(e){this.questionLabels.includes(e)?this.questionLabels=this.questionLabels.filter((t=>t!==e)):this.questionLabels.push(e)}}},m=s(89);const w=(0,m.Z)(p,[["render",l],["__scopeId","data-v-5c64efd8"]]);var f=w}}]);
//# sourceMappingURL=775.69251656.js.map