"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[723],{5638:function(e,t,s){s.d(t,{Z:function(){return d}});var i=s(3396),l=s(9242);const n={key:0,class:"labelText"};function a(e,t,s,a,o,r){return(0,i.wg)(),(0,i.iD)("div",{class:"labelCard new-label",onClick:t[4]||(t[4]=(...e)=>r.startEditing&&r.startEditing(...e))},[o.editing?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",n,"New Label +")),o.editing?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.label=e),onKeydown:[t[1]||(t[1]=(0,l.D2)(((...e)=>r.saveNewLabel&&r.saveNewLabel(...e)),["enter"])),t[2]||(t[2]=(0,l.D2)(((...e)=>r.cancelEditing&&r.cancelEditing(...e)),["esc"]))],onBlur:t[3]||(t[3]=(...e)=>r.cancelEditing&&r.cancelEditing(...e)),ref:"input"},null,544)),[[l.nr,o.label]]):(0,i.kq)("",!0)])}var o={emits:["new-label"],data(){return{editing:!1,label:""}},methods:{startEditing(){this.editing=!0,this.$nextTick((()=>{this.$refs.input.focus()}))},saveNewLabel(){""!==this.label.trim()&&this.label.trim().length<15&&(this.$emit("new-label",{label:this.label}),this.editing=!1,this.label="")},cancelEditing(){this.editing=!1,this.label=""}}},r=s(89);const u=(0,r.Z)(o,[["render",a],["__scopeId","data-v-2152249d"]]);var d=u},1700:function(e,t,s){s.d(t,{Z:function(){return p}});var i=s(3396),l=s(7139);const n=e=>((0,i.dD)("data-v-f6861b64"),e=e(),(0,i.Cn)(),e),a={class:"labelText"},o=n((()=>(0,i._)("i",{class:"bi bi-x"},null,-1))),r=[o];function u(e,t,s,n,o,u){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["labelCard",{active:o.selected,clickable:s.clickable}]),onClick:t[1]||(t[1]=e=>s.clickable?u.toggleLabel():null)},[(0,i._)("div",a,(0,l.zw)(s.labelObject.label),1),o.selected&&s.clickable?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"removeIcon",onClick:t[0]||(t[0]=(...e)=>u.removeLabel&&u.removeLabel(...e))},r)):(0,i.kq)("",!0)],2)}var d={emits:["toggle-label","remove-label"],props:{labelObject:Object,active:Boolean,clickable:{type:Boolean,default:!1}},data(){return{selected:!1}},methods:{toggleLabel(){this.selected=!this.selected,this.$emit("toggle-label",this.labelObject)},removeLabel(e){e.stopPropagation(),this.$emit("remove-label",this.labelObject)}},created(){this.selected=this.active},name:"QuestionLabel"},c=s(89);const b=(0,c.Z)(d,[["render",u],["__scopeId","data-v-f6861b64"]]);var p=b},2723:function(e,t,s){s.r(t),s.d(t,{default:function(){return de}});var i=s(3396);function l(e,t,s,l,n,a){const o=(0,i.up)("profile-questions");return(0,i.wg)(),(0,i.j4)(o)}s(7658);var n=s(7139),a=s(9242);const o=e=>((0,i.dD)("data-v-41782ca0"),e=e(),(0,i.Cn)(),e),r={class:"profile-questions"},u={class:"filter-bar"},d=o((()=>(0,i._)("i",{class:"bi bi-filter"},null,-1))),c=o((()=>(0,i._)("label",{for:"filter"},"Filter by Label:",-1))),b=o((()=>(0,i._)("option",{value:""},"All Labels",-1))),p=["value"],w={class:"container questions-list"};function v(e,t,s,l,o,v){const g=(0,i.up)("editable-question"),h=(0,i.up)("edit-question-window");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",r,[(0,i._)("div",u,[d,c,(0,i.wy)((0,i._)("select",{id:"filter","onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedLabel=e)},[b,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.userLabels,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e.id,value:e.label},(0,n.zw)(e.label),9,p)))),128))],512),[[a.bM,o.selectedLabel]])]),(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.filteredQuestions,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.Wm)(g,{question:e,onEdit:v.edit},null,8,["question","onEdit"])])))),128))])]),o.editQuestion?((0,i.wg)(),(0,i.j4)(h,{key:0,question:o.questionInEdit,onClose:t[1]||(t[1]=e=>o.editQuestion=!1),onSave:v.updateQuestion},null,8,["question","onSave"])):(0,i.kq)("",!0)],64)}const g=e=>((0,i.dD)("data-v-513a287d"),e=e(),(0,i.Cn)(),e),h={class:"row"},q={class:"col"},m={key:0},x={class:"row align-items-center"},_={class:"col"},L={class:"d-flex flex-wrap"},f={class:"col"},y={key:0},k={key:1},D=g((()=>(0,i._)("i",{class:"bi bi-pencil-square"},null,-1))),Q={key:0,class:"bi bi-trash"},C=g((()=>(0,i._)("hr",null,null,-1)));function E(e,t,s,l,a,o){const r=(0,i.up)("question-label");return(0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",q,[(0,i._)("div",null,[(0,i._)("div",{class:"text-start",onClick:t[0]||(t[0]=e=>a.extended=!a.extended)},[(0,i.Uk)((0,n.zw)(s.question.questionText)+" ",1),a.extended?((0,i.wg)(),(0,i.iD)("div",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.question.answerOptions,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},(0,n.zw)(e.text),1)))),128))])):(0,i.kq)("",!0)]),(0,i._)("div",x,[(0,i._)("div",_,[(0,i._)("div",L,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.question.questionLabels,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(r,{"label-object":e,active:!0},null,8,["label-object"])])))),128))])])])])]),(0,i._)("div",f,[(0,i._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[1]||(t[1]=(...e)=>o.editQuestion&&o.editQuestion(...e))},[a.editLabel?((0,i.wg)(),(0,i.iD)("span",y,"save")):((0,i.wg)(),(0,i.iD)("span",k,[D,(0,i.Uk)(" Edit")]))]),(0,i._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[2]||(t[2]=(...e)=>o.toggleDelete&&o.toggleDelete(...e))},[a.isDeleting?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",Q)),(0,i.Uk)(" "+(0,n.zw)(o.deleteButtonText),1)])]),C])}var I=s(1700),O={components:{QuestionLabel:I.Z},emits:["edit"],props:{question:Object},setup(){const e=(0,i.f3)("userLabels");return{userLabels:e}},data(){return{extended:!1,editLabel:!1,isDeleting:!1}},computed:{deleteButtonText(){return this.isDeleting?"Confirm ":"Delete"}},methods:{editQuestion(){this.$emit("edit",this.question)},toggleDelete(){this.isDeleting?this.delete():this.isDeleting=!0},delete(){this.isDeleting=!1}}},T=s(89);const A=(0,T.Z)(O,[["render",E],["__scopeId","data-v-513a287d"]]);var U=A;const j=e=>((0,i.dD)("data-v-36b001bc"),e=e(),(0,i.Cn)(),e),V={class:"pop-up-window"},Z={class:"pop-up-inner"},$={class:"mb-3"},N={class:"question-input-wrapper"},H={class:"mb-3"},K={class:"option-input-wrapper"},Y=j((()=>(0,i._)("label",{class:"answer-label",for:"answer1"},"Option 1:",-1))),z={class:"mb-3"},B={class:"option-input-wrapper"},P=j((()=>(0,i._)("label",{class:"answer-label",for:"answer2"},"Option 2:",-1))),W={class:"mb-3"},G={class:"option-input-wrapper"},S=j((()=>(0,i._)("label",{class:"answer-label",for:"answer3"},"Option 3:",-1))),F={class:"mb-3"},M={class:"option-input-wrapper"},J=j((()=>(0,i._)("label",{class:"answer-label",for:"answer4"},"Option 4:",-1))),R={class:"label-list"},X={class:"label-wrapper"};function ee(e,t,s,l,n,o){const r=(0,i.up)("QuestionLabel"),u=(0,i.up)("new-label");return(0,i.wg)(),(0,i.iD)("div",V,[(0,i._)("div",Z,[(0,i._)("div",$,[(0,i._)("div",N,[(0,i.wy)((0,i._)("input",{type:"text",id:"question","onUpdate:modelValue":t[0]||(t[0]=e=>n.questionText=e),placeholder:"Enter your question here",required:""},null,512),[[a.nr,n.questionText]])])]),(0,i._)("div",H,[(0,i._)("div",K,[Y,(0,i.wy)((0,i._)("input",{type:"text",id:"answer1","onUpdate:modelValue":t[1]||(t[1]=e=>n.answers[0].text=e),required:""},null,512),[[a.nr,n.answers[0].text]]),(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=e=>n.correctAnswerIndex=e),value:0,required:""},null,512),[[a.G2,n.correctAnswerIndex]])])]),(0,i._)("div",z,[(0,i._)("div",B,[P,(0,i.wy)((0,i._)("input",{type:"text",id:"answer2","onUpdate:modelValue":t[3]||(t[3]=e=>n.answers[1].text=e),required:""},null,512),[[a.nr,n.answers[1].text]]),(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=e=>n.correctAnswerIndex=e),value:1,required:""},null,512),[[a.G2,n.correctAnswerIndex]])])]),(0,i._)("div",W,[(0,i._)("div",G,[S,(0,i.wy)((0,i._)("input",{type:"text",id:"answer3","onUpdate:modelValue":t[5]||(t[5]=e=>n.answers[2].text=e),required:""},null,512),[[a.nr,n.answers[2].text]]),(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=e=>n.correctAnswerIndex=e),value:2,required:""},null,512),[[a.G2,n.correctAnswerIndex]])])]),(0,i._)("div",F,[(0,i._)("div",M,[J,(0,i.wy)((0,i._)("input",{type:"text",id:"answer4","onUpdate:modelValue":t[7]||(t[7]=e=>n.answers[3].text=e),required:""},null,512),[[a.nr,n.answers[3].text]]),(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=e=>n.correctAnswerIndex=e),value:3,required:""},null,512),[[a.G2,n.correctAnswerIndex]])])]),(0,i._)("div",R,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.userLabels,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"label-wrapper",key:t},[(0,i.Wm)(r,{"label-object":e,clickable:!0,active:o.isActive(e),onToggleLabel:o.toggleLabel},null,8,["label-object","active","onToggleLabel"])])))),128)),(0,i._)("div",X,[(0,i.Wm)(u,{onNewLabel:o.addLabel},null,8,["onNewLabel"])])]),(0,i._)("button",{class:"my-global-button",onClick:t[9]||(t[9]=(...e)=>o.saveChanges&&o.saveChanges(...e))},"Save"),(0,i._)("button",{class:"my-global-button",onClick:t[10]||(t[10]=(...e)=>o.cancelEditing&&o.cancelEditing(...e))},"Cancel")])])}var te=s(5638),se={components:{QuestionLabel:I.Z,NewLabel:te.Z},emits:["close","save"],props:{question:Object},setup(){const e=(0,i.f3)("userLabels");return{userLabels:e}},data(){return{questionText:"",answers:[{text:""},{text:""},{text:""},{text:""}],questionLabels:[],correctAnswerIndex:null,updatedQuestion:null}},methods:{addLabel(e){this.userLabels.push(e)},cancelEditing(){this.$emit("close")},saveChanges(){let e=this.createPrivateQuestion();this.$emit("save",e)},toggleLabel(e){const t=this.questionLabels.some((t=>t.label===e.label));t?this.questionLabels=this.questionLabels.filter((t=>t.label!==e.label)):this.questionLabels.push(e),console.log("after toggle: ",this.questionLabels)},isActive(e){return this.questionLabels.some((t=>t.label===e.label))},createPrivateQuestion(){return{questionText:this.questionText,questionLabels:this.questionLabels.map((e=>({label:e.label}))),answerOptions:this.answers.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))}}},created(){this.questionText=this.question.questionText,this.answers=this.question.answerOptions.map((e=>({text:e.text}))),this.questionLabels=this.question.questionLabels.map((e=>({label:e.label}))),this.correctAnswerIndex=this.question.answerOptions.findIndex((e=>e.isCorrect)),console.log("created questionLabels: ",this.questionLabels)}};const ie=(0,T.Z)(se,[["render",ee],["__scopeId","data-v-36b001bc"]]);var le=ie,ne={name:"ProfileQuestions",components:{EditQuestionWindow:le,EditableQuestion:U},setup(){const e=(0,i.f3)("userQuestions"),t=(0,i.f3)("userLabels");return{userQuestions:e,userLabels:t}},data(){return{selectedLabel:"",editQuestion:!1,questionInEdit:null}},computed:{filteredQuestions(){return this.selectedLabel?this.userQuestions.filter((e=>e.questionLabels.some((e=>e.label===this.selectedLabel)))):this.userQuestions}},methods:{updateQuestion(e){this.editQuestion=!this.editQuestion,this.questionInEdit.questionText=e.questionText,this.questionInEdit.questionLabels=e.questionLabels,this.questionInEdit.answerOptions=e.answerOptions},edit(e){this.questionInEdit=e,this.editQuestion=!0}}};const ae=(0,T.Z)(ne,[["render",v],["__scopeId","data-v-41782ca0"]]);var oe=ae,re={components:{ProfileQuestions:oe},data(){return{}},methods:{editQuestion(){},deleteQuestion(){},manageLabels(){},toggleQuestion(e){this.isQuestionExpanded(e)?this.expandedQuestions=this.expandedQuestions.filter((t=>t!==e)):this.expandedQuestions.push(e)},isQuestionExpanded(e){return this.expandedQuestions.includes(e)}}};const ue=(0,T.Z)(re,[["render",l]]);var de=ue}}]);
//# sourceMappingURL=723.9bb8d77a.js.map