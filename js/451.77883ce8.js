"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[451],{1234:function(e,t,s){s.r(t),s.d(t,{default:function(){return be}});var l=s(3396);const i={class:"container-fluid"},n={class:"row"},o={class:"col-3 sidebar"},a={class:"col"};function u(e,t,s,u,d,r){const c=(0,l.up)("question-filter"),b=(0,l.up)("side-bar"),v=(0,l.up)("profile-questions");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("div",n,[(0,l._)("div",o,[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onQuestionsFiltered:u.updateQuestions},null,8,["onQuestionsFiltered"])])),_:1})]),(0,l._)("div",a,[(0,l.Wm)(v,{questions:u.filteredQuestions},null,8,["questions"])])])])}var d=s(4870),r=s(65);const c=e=>((0,l.dD)("data-v-672399f8"),e=e(),(0,l.Cn)(),e),b={class:"profile-questions"},v={class:"questions-list"},p=c((()=>(0,l._)("hr",null,null,-1))),g=c((()=>(0,l._)("hr",null,null,-1)));function m(e,t,s,i,n,o){const a=(0,l.up)("editable-question"),u=(0,l.up)("edit-question-window");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",b,[(0,l._)("div",v,[p,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.filteredQuestions,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id},[(0,l.Wm)(a,{question:e,onEdit:t=>i.editQuestionHandler(e),onDelete:t=>i.deleteQuestionHandler(e.id)},null,8,["question","onEdit","onDelete"]),g])))),128))])]),i.editQuestion?((0,l.wg)(),(0,l.j4)(u,{key:0,question:i.questionInEdit,onClose:t[0]||(t[0]=e=>i.editQuestion=!1)},null,8,["question"])):(0,l.kq)("",!0)],64)}var f=s(7139);const q=e=>((0,l.dD)("data-v-0c78a8b2"),e=e(),(0,l.Cn)(),e),h={class:"row question-wrapper"},w={class:"col-1"},L={class:"col"},Q={key:0},_={class:"col"},T={class:"d-flex flex-wrap"},y={class:"col-4"},D=q((()=>(0,l._)("i",{class:"bi bi-pencil-square"},null,-1))),x=q((()=>(0,l._)("span",{class:"d-none d-md-inline"},"Edit",-1))),F=[D,x],C={class:"d-none d-md-inline"};function k(e,t,s,i,n,o){const a=(0,l.up)("status-bar"),u=(0,l.up)("question-label");return(0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("div",w,[0!==i.stats.totalSubmissions?((0,l.wg)(),(0,l.j4)(a,{key:0,"correct-count":i.stats.totalScore,"total-count":i.stats.totalSubmissions},null,8,["correct-count","total-count"])):(0,l.kq)("",!0)]),(0,l._)("div",L,[(0,l._)("div",null,[(0,l._)("div",{class:"text-start overflow-hidden",onClick:t[0]||(t[0]=e=>i.extended=!i.extended)},[(0,l.Uk)((0,f.zw)(s.question.questionText)+" ",1),i.extended?((0,l.wg)(),(0,l.iD)("div",Q,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.question.answerOptions,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},(0,f.zw)(e.text),1)))),128))])):(0,l.kq)("",!0)]),(0,l._)("div",_,[(0,l._)("div",T,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.question.questionLabels,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"overflow-hidden"},[(0,l.Wm)(u,{"label-object":e,active:!0},null,8,["label-object"])])))),128))])])])]),(0,l._)("div",y,[(0,l._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[1]||(t[1]=(...e)=>i.editQuestion&&i.editQuestion(...e))},F),(0,l._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[2]||(t[2]=(...e)=>i.toggleDelete&&i.toggleDelete(...e))},[(0,l._)("i",{class:(0,f.C_)([{"delete-icon":i.isDeleting,default:!i.isDeleting},"bi bi-trash"])},null,2),(0,l._)("span",C,(0,f.zw)(i.deleteButtonText),1)])])])}var H=s(1034);const I={class:"status-bar"};function S(e,t,s,i,n,o){return(0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("div",{class:"status-bar-inner",style:(0,f.j5)({backgroundColor:i.barColor})},null,4)])}var Z={props:{questionId:Number,correctCount:Number,totalCount:Number},setup(e){const t=(0,r.oR)(),s=(0,l.Fl)((()=>{const s=t.getters.userStats.find((t=>t.id===e.questionId));return s??{totalSubmissions:0,totalScore:0}})),i=(0,l.Fl)((()=>{const e=["#8b0000","#ff0000","#e08f43","#ffff00","#008000"];if(0===s.value.totalSubmissions)return"#808080";const t=Math.min(Math.floor(s.value.totalScore/s.value.totalSubmissions*e.length),e.length-1);return console.log(t),e[t]}));return{barColor:i}}},j=s(89);const E=(0,j.Z)(Z,[["render",S],["__scopeId","data-v-23feb332"]]);var B=E,R={components:{StatusBar:B,QuestionLabel:H.Z},props:{question:Object},setup(e,{emit:t}){const s=(0,r.oR)(),i=(0,l.Fl)((()=>s.getters.getTeamLabels)),n=(0,l.Fl)((()=>{const t=s.getters.userStats.find((t=>t.id===e.question.id));return t??{totalSubmissions:0,totalScore:0}})),o=(0,l.Fl)((()=>0===e.question.questionLabels.length)),a=(0,d.iH)(!1),u=(0,d.iH)(!1),c=(0,l.Fl)((()=>u.value?"Confirm":"Delete")),b=()=>{t("edit",e.question)},v=()=>{u.value?p():(u.value=!0,setTimeout((()=>{u.value=!1}),3e3))},p=()=>{t("delete",e.question),u.value=!1};return{teamLabels:i,stats:n,showLabels:o,extended:a,isDeleting:u,deleteButtonText:c,editQuestion:b,toggleDelete:v}}};const W=(0,j.Z)(R,[["render",k],["__scopeId","data-v-0c78a8b2"]]);var Y=W;const A={class:"pop-up-window"},N={class:"pop-up-inner"};function K(e,t,s,i,n,o){return(0,l.wg)(),(0,l.iD)("div",A,[(0,l._)("div",N,[((0,l.wg)(),(0,l.j4)((0,l.LL)(i.currentQuestionType),{inputQuestion:i.currentQuestion,onCancel:o.cancelEditing,onReturnQuestion:o.saveChanges},null,40,["inputQuestion","onCancel","onReturnQuestion"]))])])}s(7658);var O=s(4853),P=s(3526),z=s(4505),M={components:{FlashCardBuilder:z.Z,MultipleChoiceQuestionBuilder:P.Z,QuestionLabel:H.Z,NewLabel:O.Z},emits:["close"],props:{question:Object},setup(e){const t=(0,r.oR)(),s=(0,l.Fl)((()=>t.getters.getTeamLabels)),i=(0,d.iH)([]),n=(0,l.Fl)((()=>s.value.concat(i.value))),o=(0,d.iH)({...e.question}),a=(0,l.Fl)((()=>"multiple-choice"===e.question.type?"multiple-choice-question-builder":"flash-card"===e.question.type?(console.log("flashcard"),"flash-card-builder"):null));return{teamLabels:s,addedLabels:i,displayedLabels:n,currentQuestion:o,currentQuestionType:a}},data(){return{questionText:"",answers:[{text:""},{text:""},{text:""},{text:""}],questionLabels:[],questionId:"",correctAnswerIndex:null,updatedQuestion:null}},methods:{...(0,r.nv)(["updateTeamQuestion","addNewLabelToTeamLabels"]),async saveChanges(e,t){await this.updateTeamLabels(t),console.log(e),await this.updateTeamQuestion(e),this.$emit("close")},cancelEditing(){this.$emit("close")},async updateTeamLabels(e){for(const t of e)t.id=await this.addNewLabelToTeamLabels(t.label),console.log(t);console.log("added Labels: ",e)},addLabel(e){this.addedLabels.push(e)},toggleLabel(e){const t=this.questionLabels.some((t=>t.id===e.id));t?this.questionLabels=this.questionLabels.filter((t=>t.id!==e.id)):this.questionLabels.push(e)},isActive(e){return this.questionLabels.some((t=>t.label===e.label))},createPrivateQuestion(){return{id:this.questionId,questionText:this.questionText,questionLabels:this.questionLabels.map((e=>({label:e.label,id:e.id}))),answerOptions:this.answers.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))}}}};const $=(0,j.Z)(M,[["render",K],["__scopeId","data-v-75fc62b0"]]);var U=$,G={name:"ProfileQuestions",components:{EditQuestionWindow:U,EditableQuestion:Y},props:["questions"],setup(e){const t=(0,r.oR)(),s=(0,d.iH)(""),i=(0,d.iH)(!1),n=(0,d.iH)(null),o=(0,l.Fl)((()=>t.getters.getTeamLabels)),a=(0,l.Fl)((()=>e.questions)),u=e=>{a.value=a.value.filter((t=>t.id!==e)),t.dispatch("deleteQuestion",e)},c=e=>{n.value=e,i.value=!0},b=e=>{u(e)};return{teamLabels:o,filteredQuestions:a,editQuestion:i,questionInEdit:n,selectedLabel:s,editQuestionHandler:c,deleteQuestionHandler:b}}};const J=(0,j.Z)(G,[["render",m],["__scopeId","data-v-672399f8"]]);var V=J,X=s(2330);const ee=e=>((0,l.dD)("data-v-15236df1"),e=e(),(0,l.Cn)(),e),te=ee((()=>(0,l._)("p",{class:"filter-title text-center"},"Filter By Label",-1))),se={class:"label-container mb-3"},le=ee((()=>(0,l._)("hr",{style:{color:"whitesmoke"}},null,-1))),ie=ee((()=>(0,l._)("p",{class:"filter-title text-center"},"Filter By Type",-1))),ne={class:"label-container"};function oe(e,t,s,i,n,o){const a=(0,l.up)("question-label");return(0,l.wg)(),(0,l.iD)(l.HY,null,[te,(0,l._)("div",se,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.teamLabels,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id},[(0,l.Wm)(a,{"label-object":e,active:i.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>i.toggleLabel(e)},null,8,["label-object","active","onToggleLabel"])])))),128))]),le,ie,(0,l._)("div",ne,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.questionTypes,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},[(0,l.Wm)(a,{"label-object":{label:e,id:e},active:i.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>i.toggleType(e)},null,8,["label-object","active","onToggleLabel"])])))),128))])],64)}var ae={name:"QuestionFilter",emits:["questionsFiltered"],components:{QuestionLabel:H.Z},setup(e,{emit:t}){const s=(0,r.oR)(),i=(0,l.Fl)((()=>s.getters.getTeamLabels)),n=(0,l.Fl)((()=>s.getters.getTeamQuestions));(0,l.YP)(n,(e=>{console.log("change"),t("questionsFiltered",e)})),(0,l.bv)((()=>{t("questionsFiltered",n.value)}));const o=(0,d.iH)(["multiple-choice","flash-card"]),a=(0,d.iH)([]),u=(0,d.iH)([]),c=(0,d.iH)(s.getters.getTeamQuestions),b=e=>{c.value=e.filter((e=>a.value.every((t=>e.questionLabels.some((e=>e.id===t.id)))))),console.log(c),t("questionsFiltered",c.value)},v=e=>{c.value=e.filter((e=>u.value.every((t=>e.type===t)))),t("questionsFiltered",c.value)},p=e=>a.value.some((t=>t.id===e.id)),g=(e,t)=>{const s=t.some((t=>t.id===e.id));return s?t=t.filter((t=>t.id!==e.id)):t.push(e),t},m=e=>{const t=u.value.some((t=>t===e));t?(u.value=u.value.filter((t=>t!==e)),v(n.value),b(c.value)):(u.value.push(e),v(c.value))},f=e=>{const t=a.value.some((t=>t.id===e.id));t?(a.value=a.value.filter((t=>t.id!==e.id)),b(n.value),v(c.value)):(a.value.push(e),b(c.value))};return{teamLabels:i,teamQuestions:n,questionTypes:o,selectedLabels:a,selectedTypes:u,isActive:p,toggle:g,toggleLabel:f,toggleType:m}}};const ue=(0,j.Z)(ae,[["render",oe],["__scopeId","data-v-15236df1"]]);var de=ue,re={components:{QuestionFilter:de,SideBar:X.Z,ProfileQuestions:V},setup(){const e=(0,r.oR)(),t=(0,d.iH)([]),s=()=>{console.log(e.getters.getTeamQuestions)},l=e=>{console.log("Called"),t.value=e};return{filteredQuestions:t,updateQuestions:l,debug:s}}};const ce=(0,j.Z)(re,[["render",u],["__scopeId","data-v-19097ff9"]]);var be=ce}}]);
//# sourceMappingURL=451.77883ce8.js.map