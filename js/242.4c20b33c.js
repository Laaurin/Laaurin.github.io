"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[242],{3194:function(e,t,s){s.r(t),s.d(t,{default:function(){return G}});var i=s(3396);function n(e,t,s,n,l,o){const a=(0,i.up)("profile-questions");return(0,i.wg)(),(0,i.j4)(a)}var l=s(7139),o=s(9242);const a=e=>((0,i.dD)("data-v-4ba4e46f"),e=e(),(0,i.Cn)(),e),u={class:"profile-questions"},d={class:"filter-bar"},r=a((()=>(0,i._)("label",{for:"filter"},"Filter by Label:",-1))),c=a((()=>(0,i._)("option",{value:"",class:"dropdown-item"},"All Labels",-1))),b=["value"],p={class:"container questions-list"};function m(e,t,s,n,a,m){const g=(0,i.up)("editable-question"),h=(0,i.up)("edit-question-window");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",u,[(0,i._)("div",d,[r,(0,i.wy)((0,i._)("select",{class:"dropdown",id:"filter","onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedLabel=e)},[c,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.teamLabels,(e=>((0,i.wg)(),(0,i.iD)("option",{class:"dropdown-item",key:e.id,value:e.label},(0,l.zw)(e.label),9,b)))),128))],512),[[o.bM,n.selectedLabel]])]),(0,i._)("div",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.filteredQuestions,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s},[(0,i.Wm)(g,{question:t,onEdit:m.edit,onDelete:s=>e.deleteQuestion(t.id)},null,8,["question","onEdit","onDelete"])])))),128))])]),n.editQuestion?((0,i.wg)(),(0,i.j4)(h,{key:0,question:n.questionInEdit,onClose:t[1]||(t[1]=e=>n.editQuestion=!1)},null,8,["question"])):(0,i.kq)("",!0)],64)}const g=e=>((0,i.dD)("data-v-e48e5552"),e=e(),(0,i.Cn)(),e),h={class:"row"},v={class:"col"},w={key:0},q={class:"row align-items-center"},L={class:"col"},f={class:"d-flex flex-wrap"},Q={class:"col"},D=g((()=>(0,i._)("i",{class:"bi bi-pencil-square"},null,-1))),_=g((()=>(0,i._)("span",{class:"d-none d-md-inline"},"Edit",-1))),x=[D,_],T={class:"d-none d-md-inline"},y=g((()=>(0,i._)("hr",null,null,-1)));function C(e,t,s,n,o,a){const u=(0,i.up)("question-label");return(0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",v,[(0,i._)("div",null,[(0,i._)("div",{class:"text-start",onClick:t[0]||(t[0]=e=>o.extended=!o.extended)},[(0,i.Uk)((0,l.zw)(s.question.questionText)+" ",1),o.extended?((0,i.wg)(),(0,i.iD)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.question.answerOptions,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},(0,l.zw)(e.text),1)))),128))])):(0,i.kq)("",!0)]),(0,i._)("div",q,[(0,i._)("div",L,[(0,i._)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.question.questionLabels,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(u,{"label-object":e,active:!0},null,8,["label-object"])])))),128))])])])])]),(0,i._)("div",Q,[(0,i._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[1]||(t[1]=(...e)=>a.editQuestion&&a.editQuestion(...e))},x),(0,i._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[3]||(t[3]=(...e)=>a.toggleDelete&&a.toggleDelete(...e))},[(0,i._)("i",{class:(0,l.C_)([{"delete-icon":o.isDeleting,default:!o.isDeleting},"bi bi-trash"]),onAnimationend:t[2]||(t[2]=(...t)=>e.resetDeleteButton&&e.resetDeleteButton(...t))},null,34),(0,i._)("span",T,(0,l.zw)(a.deleteButtonText),1)])]),y])}var k=s(5676),E=s(65),H={components:{QuestionLabel:k.Z},emits:["edit","delete"],props:{question:Object},setup(){const e=(0,E.oR)(),t=(0,i.Fl)((()=>e.getters.getTeamLabels));return{teamLabels:t}},data(){return{extended:!1,isDeleting:!1}},computed:{deleteButtonText(){return this.isDeleting?"Confirm ":"Delete"}},methods:{editQuestion(){this.$emit("edit",this.question)},toggleDelete(){this.isDeleting?this.delete():(this.isDeleting=!0,setTimeout((()=>{this.isDeleting=!1}),3e3))},delete(){this.$emit("delete",this.question),this.isDeleting=!1}}},I=s(89);const F=(0,I.Z)(H,[["render",C],["__scopeId","data-v-e48e5552"]]);var Z=F;const j={class:"pop-up-window"},B={class:"pop-up-inner"};function A(e,t,s,n,l,o){return(0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("div",B,[((0,i.wg)(),(0,i.j4)((0,i.LL)(n.currentQuestionType),{inputQuestion:n.currentQuestion,onCancel:o.cancelEditing,onReturnQuestion:o.saveChanges},null,40,["inputQuestion","onCancel","onReturnQuestion"]))])])}s(7658);var R=s(4870),Y=s(4853),z=s(3320),K=s(4612),O={components:{FlashCardBuilder:K.Z,MultipleChoiceQuestionBuilder:z.Z,QuestionLabel:k.Z,NewLabel:Y.Z},emits:["close"],props:{question:Object},setup(e){const t=(0,E.oR)(),s=(0,i.Fl)((()=>t.getters.getTeamLabels)),n=(0,R.iH)([]),l=(0,i.Fl)((()=>s.value.concat(n.value))),o=(0,R.iH)({...e.question}),a=(0,i.Fl)((()=>"multiple-choice"===e.question.type?"multiple-choice-question-builder":"flash-card"===e.question.type?(console.log("flashcard"),"flash-card-builder"):null));return{teamLabels:s,addedLabels:n,displayedLabels:l,currentQuestion:o,currentQuestionType:a}},data(){return{questionText:"",answers:[{text:""},{text:""},{text:""},{text:""}],questionLabels:[],questionId:"",correctAnswerIndex:null,updatedQuestion:null}},methods:{...(0,E.nv)(["updateTeamQuestion","addNewLabelToTeamLabels"]),async saveChanges(e,t){await this.updateTeamLabels(t),console.log(e),await this.updateTeamQuestion(e),this.$emit("close")},cancelEditing(){this.$emit("close")},async updateTeamLabels(e){for(const t of e)t.id=await this.addNewLabelToTeamLabels(t.label),console.log(t);console.log("added Labels: ",e)},addLabel(e){this.addedLabels.push(e)},toggleLabel(e){const t=this.questionLabels.some((t=>t.id===e.id));t?this.questionLabels=this.questionLabels.filter((t=>t.id!==e.id)):this.questionLabels.push(e)},isActive(e){return this.questionLabels.some((t=>t.label===e.label))},createPrivateQuestion(){return{id:this.questionId,questionText:this.questionText,questionLabels:this.questionLabels.map((e=>({label:e.label,id:e.id}))),answerOptions:this.answers.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))}}}};const $=(0,I.Z)(O,[["render",A],["__scopeId","data-v-75fc62b0"]]);var N=$,P={name:"ProfileQuestions",components:{EditQuestionWindow:N,EditableQuestion:Z},setup(){const e=(0,E.oR)(),t=(0,R.iH)(""),s=(0,R.iH)(!1),n=(0,R.iH)(null),l=(0,i.Fl)((()=>e.getters.getTeamQuestions)),o=(0,i.Fl)((()=>e.getters.getTeamLabels)),a=(0,i.Fl)((()=>t.value?l.value.filter((e=>e.questionLabels.some((e=>e.label===t.value)))):l.value));return{teamQuestions:l,teamLabels:o,filteredQuestions:a,editQuestion:s,questionInEdit:n,selectedLabel:t}},methods:{...(0,E.nv)(["deleteQuestion"]),edit(e){this.questionInEdit=e,this.editQuestion=!0}}};const W=(0,I.Z)(P,[["render",m],["__scopeId","data-v-4ba4e46f"]]);var M=W,U={components:{ProfileQuestions:M}};const V=(0,I.Z)(U,[["render",n]]);var G=V}}]);
//# sourceMappingURL=242.4c20b33c.js.map