"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[891],{3500:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var i=s(3396);function n(e,t,s,n,o,l){const a=(0,i.up)("multiple-choice-question-builder"),u=(0,i.up)("flash-card-builder");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",null,[(0,i._)("button",{onClick:t[0]||(t[0]=e=>n.selectedComponent="multiple-choice")}," multiple choice "),(0,i._)("button",{onClick:t[1]||(t[1]=e=>n.selectedComponent="flash-card")},"flashcard")]),"multiple-choice"===n.selectedComponent?((0,i.wg)(),(0,i.j4)(a,{key:0,uploading:!0,onReturnQuestion:l.submitQuestion},null,8,["onReturnQuestion"])):"flash-card"===n.selectedComponent?((0,i.wg)(),(0,i.j4)(u,{key:1,uploading:!0,onReturnQuestion:l.submitQuestion},null,8,["onReturnQuestion"])):(0,i.kq)("",!0)],64)}s(7658);var o=s(4870),l=s(65),a=s(3320),u=s(4612),c={components:{FlashCardBuilder:u.Z,MultipleChoiceQuestionBuilder:a.Z},setup(){const e=(0,o.iH)("multiple-choice"),t=(0,o.iH)(""),s=(0,o.iH)([{text:""},{text:""},{text:""},{text:""}]),n=(0,o.iH)(null),a=(0,o.iH)(!1),u=(0,o.iH)([]),c=(0,o.iH)([]),r=(0,l.oR)(),d=(0,i.Fl)((()=>r.getters.isLoggedIn)),h=(0,i.Fl)((()=>r.getters.getTeamLabels)),b=(0,i.Fl)((()=>h.value.concat(c.value)));return{selectedComponent:e,isLoggedIn:d,teamLabels:h,questionText:t,answerOptions:s,questionLabels:u,correctAnswerIndex:n,isPrivateQuestion:a,addedLabels:c,displayLabels:b}},methods:{async submitQuestion(e,t){delete e.id,e.questionLabels=await this.saveNewLabelsToTeam(t,e.questionLabels),console.log(e),await this.$store.dispatch("uploadPrivateQuestion",e)},addLabel(e){this.addedLabels.push(e)},async submitForm(){if(null!==this.correctAnswerIndex){if(this.isPrivateQuestion){await this.saveNewLabelsToTeam();const e=this.createQuestion();console.log(e),await this.$store.dispatch("uploadPrivateQuestion",e)}else{const e=this.createQuestion();console.log(e),await this.$store.dispatch("uploadPublicQuestion",e)}this.questionText="",this.answerOptions.forEach((e=>e.text="")),this.correctAnswerIndex=null,this.isPrivateQuestion=!1,this.questionLabels=[],this.addedLabels=[]}else alert("Bitte wÃ¤hlen Sie eine richtige Antwort aus.")},createQuestion(){const e={questionText:this.questionText,answerOptions:this.answerOptions.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))};return this.isPrivateQuestion&&(e.questionLabels=this.questionLabels.map((e=>({label:e.label,id:e.id})))),e},async saveNewLabelsToTeam(e,t){console.log("adding labels...");for(const s of e){const e=await this.$store.dispatch("addNewLabelToTeamLabels",s.label),i=t.findIndex((e=>e.label===s.label));-1!==i&&(t[i].id=e)}return t},toggleLabel(e){this.questionLabels.includes(e)?this.questionLabels=this.questionLabels.filter((t=>t!==e)):this.questionLabels.push(e)}}},r=s(89);const d=(0,r.Z)(c,[["render",n],["__scopeId","data-v-47c7dfd6"]]);var h=d}}]);
//# sourceMappingURL=891.f9fa0ba0.js.map