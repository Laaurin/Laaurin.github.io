"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[99],{4853:function(e,t,l){l.d(t,{Z:function(){return c}});var i=l(3396),s=l(9242);const a={key:0,class:"labelText"};function n(e,t,l,n,o,r){return(0,i.wg)(),(0,i.iD)("div",{class:"labelCard new-label",onClick:t[4]||(t[4]=(...e)=>r.startEditing&&r.startEditing(...e))},[o.editing?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",a,"New Label +")),o.editing?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.label=e),onKeydown:[t[1]||(t[1]=(0,s.D2)(((...e)=>r.saveNewLabel&&r.saveNewLabel(...e)),["enter"])),t[2]||(t[2]=(0,s.D2)(((...e)=>r.cancelEditing&&r.cancelEditing(...e)),["esc"]))],onBlur:t[3]||(t[3]=(...e)=>r.cancelEditing&&r.cancelEditing(...e)),ref:"input"},null,544)),[[s.nr,o.label]]):(0,i.kq)("",!0)])}var o={emits:["new-label"],data(){return{editing:!1,label:""}},methods:{startEditing(){this.editing=!0,this.$nextTick((()=>{this.$refs.input.focus()}))},saveNewLabel(){""!==this.label.trim()&&this.label.trim().length<15&&(this.$emit("new-label",{label:this.label,id:(new Date).getTime().toString()}),this.editing=!1,this.label="")},cancelEditing(){this.editing=!1,this.label=""}}},r=l(89);const d=(0,r.Z)(o,[["render",n],["__scopeId","data-v-2421300e"]]);var c=d},5676:function(e,t,l){l.d(t,{Z:function(){return w}});var i=l(3396),s=l(7139);const a=e=>((0,i.dD)("data-v-36651764"),e=e(),(0,i.Cn)(),e),n={class:"labelText"},o=a((()=>(0,i._)("i",{class:"bi bi-x"},null,-1))),r=[o];function d(e,t,l,a,o,d){return(0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)(["labelCard",{active:o.selected,clickable:l.clickable}]),onClick:t[1]||(t[1]=e=>l.clickable?d.toggleLabel():null)},[(0,i._)("div",n,(0,s.zw)(l.labelObject.label),1),o.selected&&l.clickable?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"removeIcon",onClick:t[0]||(t[0]=t=>e.deleteLabel(l.labelObject.id))},r)):(0,i.kq)("",!0)],2)}var c=l(65),u={emits:["toggle-label"],props:{labelObject:Object,active:Boolean,clickable:{type:Boolean,default:!1}},data(){return{selected:!1}},methods:{...(0,c.nv)(["deleteLabel"]),toggleLabel(){this.selected=!this.selected,this.$emit("toggle-label",this.labelObject)}},created(){this.selected=this.active},name:"QuestionLabel"},b=l(89);const p=(0,b.Z)(u,[["render",d],["__scopeId","data-v-36651764"]]);var w=p},5099:function(e,t,l){l.r(t),l.d(t,{default:function(){return E}});var i=l(3396),s=l(9242);const a=e=>((0,i.dD)("data-v-1dbf4910"),e=e(),(0,i.Cn)(),e),n={class:"container"},o=a((()=>(0,i._)("h2",null,"Upload new Question",-1))),r={class:"mb-3"},d={class:"question-input-wrapper"},c={class:"mb-3"},u={class:"option-input-wrapper"},b=a((()=>(0,i._)("label",{class:"answer-label",for:"answer1"},"Option 1:",-1))),p={class:"mb-3"},w={class:"option-input-wrapper"},h=a((()=>(0,i._)("label",{class:"answer-label",for:"answer2"},"Option 2:",-1))),v={class:"mb-3"},g={class:"option-input-wrapper"},m=a((()=>(0,i._)("label",{class:"answer-label",for:"answer3"},"Option 3:",-1))),x={class:"mb-3"},L={class:"option-input-wrapper"},_=a((()=>(0,i._)("label",{class:"answer-label",for:"answer4"},"Option 4:",-1))),y=a((()=>(0,i._)("label",null,"private Question",-1))),q={key:0},f={class:"label-list"},k={class:"label-wrapper"},O=a((()=>(0,i._)("button",{class:"my-global-button",type:"submit"},"add Question",-1)));function I(e,t,l,a,I,T){const Q=(0,i.up)("QuestionLabel"),D=(0,i.up)("new-label");return(0,i.wg)(),(0,i.iD)("div",n,[o,(0,i._)("form",{onSubmit:t[10]||(t[10]=(0,s.iM)(((...e)=>T.submitForm&&T.submitForm(...e)),["prevent"]))},[(0,i._)("div",r,[(0,i._)("div",d,[(0,i.wy)((0,i._)("input",{type:"text",id:"question","onUpdate:modelValue":t[0]||(t[0]=e=>a.questionText=e),placeholder:"Enter your question here",required:""},null,512),[[s.nr,a.questionText]])])]),(0,i._)("div",c,[(0,i._)("div",u,[b,(0,i.wy)((0,i._)("input",{type:"text",id:"answer1","onUpdate:modelValue":t[1]||(t[1]=e=>a.answerOptions[0].text=e),required:""},null,512),[[s.nr,a.answerOptions[0].text]]),(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=e=>a.correctAnswerIndex=e),value:0,required:""},null,512),[[s.G2,a.correctAnswerIndex]])])]),(0,i._)("div",p,[(0,i._)("div",w,[h,(0,i.wy)((0,i._)("input",{type:"text",id:"answer2","onUpdate:modelValue":t[3]||(t[3]=e=>a.answerOptions[1].text=e),required:""},null,512),[[s.nr,a.answerOptions[1].text]]),(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=e=>a.correctAnswerIndex=e),value:1,required:""},null,512),[[s.G2,a.correctAnswerIndex]])])]),(0,i._)("div",v,[(0,i._)("div",g,[m,(0,i.wy)((0,i._)("input",{type:"text",id:"answer3","onUpdate:modelValue":t[5]||(t[5]=e=>a.answerOptions[2].text=e),required:""},null,512),[[s.nr,a.answerOptions[2].text]]),(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=e=>a.correctAnswerIndex=e),value:2,required:""},null,512),[[s.G2,a.correctAnswerIndex]])])]),(0,i._)("div",x,[(0,i._)("div",L,[_,(0,i.wy)((0,i._)("input",{type:"text",id:"answer4","onUpdate:modelValue":t[7]||(t[7]=e=>a.answerOptions[3].text=e),required:""},null,512),[[s.nr,a.answerOptions[3].text]]),(0,i.wy)((0,i._)("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=e=>a.correctAnswerIndex=e),value:3,required:""},null,512),[[s.G2,a.correctAnswerIndex]])])]),(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=e=>a.isPrivateQuestion=e),style:{"margin-right":"10px"}},null,512),[[s.e8,a.isPrivateQuestion]]),y,a.isPrivateQuestion?((0,i.wg)(),(0,i.iD)("div",q,[(0,i._)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.displayLabels,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"label-wrapper",key:t},[(0,i.Wm)(Q,{"label-object":e,clickable:!0,onToggleLabel:T.toggleLabel},null,8,["label-object","onToggleLabel"])])))),128)),(0,i._)("div",k,[(0,i.Wm)(D,{onNewLabel:T.addLabel},null,8,["onNewLabel"])])])])):(0,i.kq)("",!0)]),O],32)])}l(7658);var T=l(4870),Q=l(65),D=l(5676),A=l(4853),C={components:{NewLabel:A.Z,QuestionLabel:D.Z},setup(){const e=(0,T.iH)("multipleChoice"),t=(0,T.iH)(""),l=(0,T.iH)([{text:""},{text:""},{text:""},{text:""}]),s=(0,T.iH)(null),a=(0,T.iH)(!1),n=(0,T.iH)([]),o=(0,T.iH)([]),r=(0,Q.oR)(),d=(0,i.Fl)((()=>r.getters.isLoggedIn)),c=(0,i.Fl)((()=>r.getters.getTeamLabels)),u=(0,i.Fl)((()=>c.value.concat(o.value)));return{selectedComponent:e,isLoggedIn:d,teamLabels:c,questionText:t,answerOptions:l,questionLabels:n,correctAnswerIndex:s,isPrivateQuestion:a,addedLabels:o,displayLabels:u}},methods:{addLabel(e){this.addedLabels.push(e)},async submitForm(){if(null!==this.correctAnswerIndex){if(this.isPrivateQuestion){await this.saveNewLabelsToTeam();const e=this.createQuestion();console.log(e),await this.$store.dispatch("uploadPrivateQuestion",e)}else{const e=this.createQuestion();console.log(e),await this.$store.dispatch("uploadPublicQuestion",e)}this.questionText="",this.answerOptions.forEach((e=>e.text="")),this.correctAnswerIndex=null,this.isPrivateQuestion=!1,this.questionLabels=[],this.addedLabels=[]}else alert("Bitte wÃ¤hlen Sie eine richtige Antwort aus.")},createQuestion(){const e={questionText:this.questionText,answerOptions:this.answerOptions.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))};return this.isPrivateQuestion&&(e.questionLabels=this.questionLabels.map((e=>({label:e.label,id:e.id})))),e},async saveNewLabelsToTeam(){console.log("adding labels...");for(const e of this.addedLabels){const t=await this.$store.dispatch("addNewLabelToTeamLabels",e.label),l=this.questionLabels.findIndex((t=>t.label===e.label));-1!==l&&(this.questionLabels[l].id=t)}},toggleLabel(e){this.questionLabels.includes(e)?this.questionLabels=this.questionLabels.filter((t=>t!==e)):this.questionLabels.push(e)}}},U=l(89);const V=(0,U.Z)(C,[["render",I],["__scopeId","data-v-1dbf4910"]]);var E=V}}]);
//# sourceMappingURL=99.b2ea24e7.js.map