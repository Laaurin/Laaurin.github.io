"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[16,519],{4519:function(e,t,s){s.r(t),s.d(t,{default:function(){return U}});var i=s(3396),l=s(7139);const n={class:"pop-up-window"},o={class:"pop-up-inner"},a={class:"d-flex justify-content-start"};function u(e,t,s,u,r,c){const d=(0,i.up)("selectable-user"),g=(0,i.up)("new-user");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",o,[(0,i._)("div",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.userList,(e=>((0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)([{active:e.id===u.selectedProfileId},"selection-option"]),key:e.id},[(0,i.Wm)(d,{"user-name":e.name,onSelect:t=>c.setActive(e)},null,8,["user-name","onSelect"])],2)))),128)),(0,i._)("div",null,[(0,i.Wm)(g)])])])])}const r=e=>((0,i.dD)("data-v-74755e61"),e=e(),(0,i.Cn)(),e),c=r((()=>(0,i._)("i",{style:{"font-size":"50px"},class:"bi bi-person"},null,-1)));function d(e,t,s,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{class:"profile",onClick:t[0]||(t[0]=(...e)=>a.select&&a.select(...e))},[c,(0,i._)("p",null,(0,l.zw)(s.userName),1)])}var g={name:"SelectableUser",props:{userName:String},emits:["select"],methods:{select(){this.$emit("select")}}},p=s(89);const v=(0,p.Z)(g,[["render",d],["__scopeId","data-v-74755e61"]]);var b=v,m=s(9242);const h={key:0,class:"profile"},f={key:1};function w(e,t,s,l,n,o){return n.addingUser?((0,i.wg)(),(0,i.iD)("div",f,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.name=e),placeholder:"Enter user's name",onKeydown:t[2]||(t[2]=(0,m.D2)(((...e)=>o.saveUser&&o.saveUser(...e)),["enter"]))},null,544),[[m.nr,n.user.name]]),(0,i._)("button",{onClick:t[3]||(t[3]=(...e)=>o.saveUser&&o.saveUser(...e))},"Save"),(0,i._)("button",{onClick:t[4]||(t[4]=(...e)=>o.cancelUser&&o.cancelUser(...e))},"Cancel")])):((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("i",{style:{"font-size":"30px",cursor:"pointer"},class:"bi bi-plus-circle",onClick:t[0]||(t[0]=(...e)=>o.toggleAddingUser&&o.toggleAddingUser(...e))})]))}var _={name:"NewUser",data(){return{addingUser:!1,user:{name:""}}},methods:{toggleAddingUser(){this.addingUser=!this.addingUser},saveUser(){this.$store.dispatch("createNewUserProfile",this.user),this.toggleAddingUser()},cancelUser(){this.newUserName="",this.toggleAddingUser()}}};const q=(0,p.Z)(_,[["render",w],["__scopeId","data-v-6caf10da"]]);var L=q,Q=s(65),y=s(4870),D={name:"UserSelection",components:{NewUser:L,SelectableUser:b},emits:["userSelected"],setup(e,{emit:t}){const s=(0,Q.oR)(),l=(0,y.iH)(s.getters.userProfiles),n=(0,y.iH)(s.getters.userProfileId);(0,i.wF)((async()=>{0===l.value.length&&(await s.dispatch("fetchUserProfiles"),l.value=s.getters.userProfiles)}));const o=async e=>{console.log("setting"+e),s.commit("setActiveUser",{user:e}),await s.dispatch("fetchUserStats"),console.log(s.getters.userStats),t("userSelected")};return{userList:l,selectedProfileId:n,setUser:o}},methods:{async setActive(e){console.log(e),this.$store.commit("setActiveUser",e),await this.$store.dispatch("fetchUserStats"),console.log(this.$store.getters.userStats),this.$emit("userSelected")}}};const T=(0,p.Z)(D,[["render",u],["__scopeId","data-v-c04870c8"]]);var U=T},3050:function(e,t,s){s.r(t),s.d(t,{default:function(){return ge}});var i=s(3396);const l={class:"container-fluid"},n={class:"row"},o={class:"col-3"},a={class:"col"};function u(e,t,s,u,r,c){const d=(0,i.up)("question-filter"),g=(0,i.up)("side-bar"),p=(0,i.up)("profile-questions"),v=(0,i.up)("user-selection");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",l,[(0,i._)("div",n,[(0,i._)("div",o,[(0,i.Wm)(g,{class:"shadow"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{onQuestionsFiltered:c.updateQuestions},null,8,["onQuestionsFiltered"])])),_:1})]),(0,i._)("div",a,[(0,i.Wm)(p,{questions:r.filteredQuestions},null,8,["questions"])])])]),!1===r.isProfileSelected?((0,i.wg)(),(0,i.j4)(v,{key:0,onUserSelected:t[0]||(t[0]=e=>r.isProfileSelected=!0)})):(0,i.kq)("",!0)],64)}const r={class:"profile-questions"},c={class:"container questions-list"};function d(e,t,s,l,n,o){const a=(0,i.up)("editable-question"),u=(0,i.up)("edit-question-window");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",r,[(0,i._)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.filteredQuestions,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s},[(0,i.Wm)(a,{question:t,onEdit:o.edit,onDelete:s=>e.deleteQuestion(t.id)},null,8,["question","onEdit","onDelete"])])))),128))])]),l.editQuestion?((0,i.wg)(),(0,i.j4)(u,{key:0,question:l.questionInEdit,onClose:t[0]||(t[0]=e=>l.editQuestion=!1)},null,8,["question"])):(0,i.kq)("",!0)],64)}var g=s(7139);const p=e=>((0,i.dD)("data-v-78173aae"),e=e(),(0,i.Cn)(),e),v={class:"row"},b={class:"col-1"},m={class:"col"},h={key:0},f={class:"row align-items-center"},w={class:"col"},_={class:"d-flex flex-wrap"},q={class:"col-4"},L=p((()=>(0,i._)("i",{class:"bi bi-pencil-square"},null,-1))),Q=p((()=>(0,i._)("span",{class:"d-none d-md-inline"},"Edit",-1))),y=[L,Q],D={class:"d-none d-md-inline"},T=p((()=>(0,i._)("hr",null,null,-1)));function U(e,t,s,l,n,o){const a=(0,i.up)("status-bar"),u=(0,i.up)("question-label");return(0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("div",b,[0!==l.stats.totalSubmissions?((0,i.wg)(),(0,i.j4)(a,{key:0,"correct-count":l.stats.totalScore,"total-count":l.stats.totalSubmissions},null,8,["correct-count","total-count"])):(0,i.kq)("",!0)]),(0,i._)("div",m,[(0,i._)("div",null,[(0,i._)("div",{class:"text-start",onClick:t[0]||(t[0]=e=>n.extended=!n.extended)},[(0,i.Uk)((0,g.zw)(s.question.questionText)+" ",1),n.extended?((0,i.wg)(),(0,i.iD)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.question.answerOptions,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},(0,g.zw)(e.text),1)))),128))])):(0,i.kq)("",!0)]),(0,i._)("div",f,[(0,i._)("div",w,[(0,i._)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.question.questionLabels,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(u,{"label-object":e,active:!0},null,8,["label-object"])])))),128))])])])])]),(0,i._)("div",q,[(0,i._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[1]||(t[1]=(...e)=>o.editQuestion&&o.editQuestion(...e))},y),(0,i._)("button",{class:"my-global-button",style:{margin:"5px"},onClick:t[3]||(t[3]=(...e)=>o.toggleDelete&&o.toggleDelete(...e))},[(0,i._)("i",{class:(0,g.C_)([{"delete-icon":n.isDeleting,default:!n.isDeleting},"bi bi-trash"]),onAnimationend:t[2]||(t[2]=(...t)=>e.resetDeleteButton&&e.resetDeleteButton(...t))},null,34),(0,i._)("span",D,(0,g.zw)(o.deleteButtonText),1)])]),T])}var k=s(6570),C=s(65);const x={class:"status-bar"};function S(e,t,s,l,n,o){return(0,i.wg)(),(0,i.iD)("div",x,[(0,i._)("div",{class:"status-bar-inner",style:(0,g.j5)({backgroundColor:o.barColor})},null,4)])}var F={props:{correctCount:Number,totalCount:Number},computed:{barColor(){const e=["#8b0000","#ff0000","#e08f43","#ffff00","#008000"];if(0===this.totalCount)return"#808080";const t=Math.min(Math.floor(this.correctCount/this.totalCount*e.length),e.length-1);return console.log(t),e[t]}}},H=s(89);const I=(0,H.Z)(F,[["render",S],["__scopeId","data-v-15ce0438"]]);var A=I,Z={components:{StatusBar:A,QuestionLabel:k.Z},emits:["edit","delete"],props:{question:Object},setup(e){const t=(0,C.oR)(),s=(0,i.Fl)((()=>t.getters.getTeamLabels)),l=(0,i.Fl)((()=>{const s=t.getters.userStats.find((t=>t.id===e.question.id));return s??{totalSubmissions:0,totalScore:0}}));return{teamLabels:s,stats:l}},data(){return{extended:!1,isDeleting:!1}},computed:{deleteButtonText(){return this.isDeleting?"Confirm ":"Delete"}},methods:{editQuestion(){this.$emit("edit",this.question)},toggleDelete(){this.isDeleting?this.delete():(this.isDeleting=!0,setTimeout((()=>{this.isDeleting=!1}),3e3))},delete(){this.$emit("delete",this.question),this.isDeleting=!1}}};const j=(0,H.Z)(Z,[["render",U],["__scopeId","data-v-78173aae"]]);var P=j;const $={class:"pop-up-window"},E={class:"pop-up-inner"};function N(e,t,s,l,n,o){return(0,i.wg)(),(0,i.iD)("div",$,[(0,i._)("div",E,[((0,i.wg)(),(0,i.j4)((0,i.LL)(l.currentQuestionType),{inputQuestion:l.currentQuestion,onCancel:o.cancelEditing,onReturnQuestion:o.saveChanges},null,40,["inputQuestion","onCancel","onReturnQuestion"]))])])}s(7658);var B=s(4870),W=s(4853),Y=s(6287),K=s(686),R={components:{FlashCardBuilder:K.Z,MultipleChoiceQuestionBuilder:Y.Z,QuestionLabel:k.Z,NewLabel:W.Z},emits:["close"],props:{question:Object},setup(e){const t=(0,C.oR)(),s=(0,i.Fl)((()=>t.getters.getTeamLabels)),l=(0,B.iH)([]),n=(0,i.Fl)((()=>s.value.concat(l.value))),o=(0,B.iH)({...e.question}),a=(0,i.Fl)((()=>"multiple-choice"===e.question.type?"multiple-choice-question-builder":"flash-card"===e.question.type?(console.log("flashcard"),"flash-card-builder"):null));return{teamLabels:s,addedLabels:l,displayedLabels:n,currentQuestion:o,currentQuestionType:a}},data(){return{questionText:"",answers:[{text:""},{text:""},{text:""},{text:""}],questionLabels:[],questionId:"",correctAnswerIndex:null,updatedQuestion:null}},methods:{...(0,C.nv)(["updateTeamQuestion","addNewLabelToTeamLabels"]),async saveChanges(e,t){await this.updateTeamLabels(t),console.log(e),await this.updateTeamQuestion(e),this.$emit("close")},cancelEditing(){this.$emit("close")},async updateTeamLabels(e){for(const t of e)t.id=await this.addNewLabelToTeamLabels(t.label),console.log(t);console.log("added Labels: ",e)},addLabel(e){this.addedLabels.push(e)},toggleLabel(e){const t=this.questionLabels.some((t=>t.id===e.id));t?this.questionLabels=this.questionLabels.filter((t=>t.id!==e.id)):this.questionLabels.push(e)},isActive(e){return this.questionLabels.some((t=>t.label===e.label))},createPrivateQuestion(){return{id:this.questionId,questionText:this.questionText,questionLabels:this.questionLabels.map((e=>({label:e.label,id:e.id}))),answerOptions:this.answers.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))}}}};const z=(0,H.Z)(R,[["render",N],["__scopeId","data-v-75fc62b0"]]);var O=z,M={name:"ProfileQuestions",components:{EditQuestionWindow:O,EditableQuestion:P},props:["questions"],setup(e){const t=(0,C.oR)(),s=(0,B.iH)(""),l=(0,B.iH)(!1),n=(0,B.iH)(null),o=(0,i.Fl)((()=>t.getters.getTeamLabels)),a=(0,i.Fl)((()=>e.questions));return{teamLabels:o,filteredQuestions:a,editQuestion:l,questionInEdit:n,selectedLabel:s}},methods:{...(0,C.nv)(["deleteQuestion"]),edit(e){this.questionInEdit=e,this.editQuestion=!0}}};const V=(0,H.Z)(M,[["render",d],["__scopeId","data-v-47330d60"]]);var G=V,J=s(7281);const X=e=>((0,i.dD)("data-v-37b3f74c"),e=e(),(0,i.Cn)(),e),ee=X((()=>(0,i._)("p",{class:"filter-title text-center"},"Filter By Label",-1))),te={class:"label-container mb-3"},se=X((()=>(0,i._)("hr",{style:{color:"whitesmoke"}},null,-1))),ie=X((()=>(0,i._)("p",{class:"filter-title text-center"},"Filter By Type",-1))),le={class:"label-container"};function ne(e,t,s,l,n,o){const a=(0,i.up)("question-label");return(0,i.wg)(),(0,i.iD)(i.HY,null,[ee,(0,i._)("div",te,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.teamLabels,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(a,{"label-object":e,active:l.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>l.toggleLabel(e)},null,8,["label-object","active","onToggleLabel"])])))),128))]),se,ie,(0,i._)("div",le,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.questionTypes,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e},[(0,i.Wm)(a,{"label-object":{label:e,id:e},active:l.isActive(e),clickable:!0,deletable:!1,onToggleLabel:t=>l.toggleType(e)},null,8,["label-object","active","onToggleLabel"])])))),128))])],64)}var oe={name:"QuestionFilter",emits:["questionsFiltered"],components:{QuestionLabel:k.Z},setup(e,{emit:t}){const s=(0,C.oR)(),l=(0,i.Fl)((()=>s.getters.getTeamLabels)),n=(0,i.Fl)((()=>s.getters.getTeamQuestions)),o=(0,B.iH)(["multiple-choice","flash-card"]),a=(0,B.iH)([]),u=(0,B.iH)([]),r=(0,B.iH)(s.getters.getTeamQuestions),c=e=>{r.value=e.filter((e=>a.value.every((t=>e.questionLabels.some((e=>e.id===t.id)))))),console.log(r),t("questionsFiltered",r.value)},d=e=>{r.value=e.filter((e=>(console.log(e),u.value.every((t=>e.type===t))))),t("questionsFiltered",r.value)},g=e=>a.value.some((t=>t.id===e.id)),p=(e,t)=>{const s=t.some((t=>t.id===e.id));return s?t=t.filter((t=>t.id!==e.id)):t.push(e),t},v=e=>{const t=u.value.some((t=>t===e));t?(u.value=u.value.filter((t=>t!==e)),d(n.value),c(r.value)):(u.value.push(e),d(r.value))},b=e=>{const t=a.value.some((t=>t.id===e.id));t?(a.value=a.value.filter((t=>t.id!==e.id)),c(n.value),d(r.value)):(a.value.push(e),c(r.value))};return{teamLabels:l,teamQuestions:n,questionTypes:o,selectedLabels:a,selectedTypes:u,isActive:g,toggle:p,toggleLabel:b,toggleType:v}}};const ae=(0,H.Z)(oe,[["render",ne],["__scopeId","data-v-37b3f74c"]]);var ue=ae,re=s(4519),ce={components:{QuestionFilter:ue,SideBar:J.Z,ProfileQuestions:G,UserSelection:re["default"]},data(){return{filteredQuestions:[],isProfileSelected:null!==this.$store.getters.userProfileId}},methods:{updateQuestions(e){console.log("called"),this.filteredQuestions=e}},created(){this.filteredQuestions=this.$store.getters.getTeamQuestions}};const de=(0,H.Z)(ce,[["render",u],["__scopeId","data-v-ec79f3e6"]]);var ge=de}}]);
//# sourceMappingURL=16.c05b02d6.js.map