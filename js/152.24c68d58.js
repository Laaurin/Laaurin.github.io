"use strict";(self["webpackChunkmultiple_choice"]=self["webpackChunkmultiple_choice"]||[]).push([[152],{5116:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var i=s(3396);const o={class:"container-fluid"},n={class:"row"},l={class:"col-3"},a={class:"button-outer"},u={class:"button-outer"},c={class:"col-9"};function r(e,t,s,r,d,h){const b=(0,i.up)("side-bar"),p=(0,i.up)("multiple-choice-question-builder"),m=(0,i.up)("flash-card-builder");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",n,[(0,i._)("div",l,[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i._)("div",a,[(0,i._)("button",{class:"btn my-button button-text",onClick:t[0]||(t[0]=e=>r.selectedComponent="multiple-choice")}," Multiple Choice ")]),(0,i._)("div",u,[(0,i._)("button",{class:"btn my-button button-text",onClick:t[1]||(t[1]=e=>r.selectedComponent="flash-card")}," Flashcard ")])])),_:1})]),(0,i._)("div",c,["multiple-choice"===r.selectedComponent?((0,i.wg)(),(0,i.j4)(p,{key:0,uploading:!0,onReturnQuestion:h.submitQuestion},null,8,["onReturnQuestion"])):"flash-card"===r.selectedComponent?((0,i.wg)(),(0,i.j4)(m,{key:1,uploading:!0,onReturnQuestion:h.submitQuestion},null,8,["onReturnQuestion"])):(0,i.kq)("",!0)])])])}s(7658);var d=s(4870),h=s(2925),b=s(6022),p=s(1424),m={components:{SideBar:p.Z,FlashCardBuilder:b.Z,MultipleChoiceQuestionBuilder:h.Z},setup(){const e=(0,d.iH)("multiple-choice"),t=(0,d.iH)(""),s=(0,d.iH)([{text:""},{text:""},{text:""},{text:""}]),i=(0,d.iH)(null),o=(0,d.iH)(!1),n=(0,d.iH)([]),l=(0,d.iH)([]);return{selectedComponent:e,questionText:t,answerOptions:s,questionLabels:n,correctAnswerIndex:i,isPrivateQuestion:o,addedLabels:l}},methods:{async submitQuestion(e,t){delete e.id,e.questionLabels=await this.saveNewLabelsToTeam(t,e.questionLabels),console.log(e),await this.$store.dispatch("uploadPrivateQuestion",e)},addLabel(e){this.addedLabels.push(e)},async submitForm(){if(null!==this.correctAnswerIndex){if(this.isPrivateQuestion){await this.saveNewLabelsToTeam();const e=this.createQuestion();console.log(e),await this.$store.dispatch("uploadPrivateQuestion",e)}else{const e=this.createQuestion();console.log(e),await this.$store.dispatch("uploadPublicQuestion",e)}this.questionText="",this.answerOptions.forEach((e=>e.text="")),this.correctAnswerIndex=null,this.isPrivateQuestion=!1,this.questionLabels=[],this.addedLabels=[]}else alert("Please select the correct answer!")},createQuestion(){const e={questionText:this.questionText,answerOptions:this.answerOptions.map(((e,t)=>({text:e.text,isCorrect:t===this.correctAnswerIndex})))};return this.isPrivateQuestion&&(e.questionLabels=this.questionLabels.map((e=>({label:e.label,id:e.id})))),e},async saveNewLabelsToTeam(e,t){console.log("adding labels...");for(const s of e){const e=await this.$store.dispatch("addNewLabelToTeamLabels",s.label),i=t.findIndex((e=>e.label===s.label));-1!==i&&(t[i].id=e)}return t},toggleLabel(e){this.questionLabels.includes(e)?this.questionLabels=this.questionLabels.filter((t=>t!==e)):this.questionLabels.push(e)}}},w=s(89);const L=(0,w.Z)(m,[["render",r],["__scopeId","data-v-7a428e7d"]]);var v=L}}]);
//# sourceMappingURL=152.24c68d58.js.map